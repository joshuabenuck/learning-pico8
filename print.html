<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/custom.css">
        <link rel="stylesheet" href="theme/pico-8.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="overview/overview.html">Overview</a></li><li class="chapter-item expanded "><a href="community/intro.html"><strong aria-hidden="true">1.</strong> The Community</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="community/splore.html"><strong aria-hidden="true">1.1.</strong> Splore</a></li></ol></li><li class="chapter-item expanded "><a href="using/intro.html"><strong aria-hidden="true">2.</strong> Using PICO-8</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="using/limitations.html"><strong aria-hidden="true">2.1.</strong> Limitations</a></li><li class="chapter-item expanded "><a href="using/code_editor.html"><strong aria-hidden="true">2.2.</strong> Code Editor</a></li><li class="chapter-item expanded "><a href="using/sprite_editor.html"><strong aria-hidden="true">2.3.</strong> Sprite Editor</a></li><li class="chapter-item expanded "><a href="using/map_editor.html"><strong aria-hidden="true">2.4.</strong> Map Editor</a></li><li class="chapter-item expanded "><a href="using/sound_editor.html"><strong aria-hidden="true">2.5.</strong> Sound Editor</a></li><li class="chapter-item expanded "><a href="using/music_editor.html"><strong aria-hidden="true">2.6.</strong> Music Editor</a></li><li class="chapter-item expanded "><a href="using/coordinates.html"><strong aria-hidden="true">2.7.</strong> Coordinates</a></li><li class="chapter-item expanded "><a href="using/programming_basics.html"><strong aria-hidden="true">2.8.</strong> Programming Basics</a></li><li class="chapter-item expanded "><a href="using/the_game_loop.html"><strong aria-hidden="true">2.9.</strong> The Game Loop</a></li></ol></li><li class="chapter-item expanded "><a href="flappy/tutorial.html"><strong aria-hidden="true">3.</strong> Flappy Bird Tutorial</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="flappy/code.html"><strong aria-hidden="true">3.1.</strong> Code Only</a></li></ol></li><li class="chapter-item expanded "><a href="ag/intro/ag_tutorial.html"><strong aria-hidden="true">4.</strong> Adventure Game Tutorial</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ag/step_01/the_map.html"><strong aria-hidden="true">4.1.</strong> The Map</a></li><li class="chapter-item expanded "><a href="ag/step_02/the_player.html"><strong aria-hidden="true">4.2.</strong> The Player</a></li><li class="chapter-item expanded "><a href="ag/step_03/movement.html"><strong aria-hidden="true">4.3.</strong> Movement</a></li><li class="chapter-item expanded "><a href="ag/step_04/camera.html"><strong aria-hidden="true">4.4.</strong> Camera</a></li><li class="chapter-item expanded "><a href="ag/step_05/keys.html"><strong aria-hidden="true">4.5.</strong> Keys</a></li><li class="chapter-item expanded "><a href="ag/step_06/inventory.html"><strong aria-hidden="true">4.6.</strong> Inventory</a></li><li class="chapter-item expanded "><a href="ag/step_07/doors.html"><strong aria-hidden="true">4.7.</strong> Doors</a></li><li class="chapter-item expanded "><a href="ag/step_08/animated_tiles.html"><strong aria-hidden="true">4.8.</strong> Animate Tiles</a></li><li class="chapter-item expanded "><a href="ag/step_09/winning_and_losing.html"><strong aria-hidden="true">4.9.</strong> Winning and Losing</a></li><li class="chapter-item expanded "><a href="ag/step_10/trying_again.html"><strong aria-hidden="true">4.10.</strong> Trying Again</a></li><li class="chapter-item expanded "><a href="ag/step_11/bonus_adding_text.html"><strong aria-hidden="true">4.11.</strong> Bonus Step: Adding Text</a></li><li class="chapter-item expanded "><a href="ag/step_12/bonus_unlimited_sprite_types.html"><strong aria-hidden="true">4.12.</strong> Bonus Step: Unlimited Sprite Types</a></li></ol></li><li class="chapter-item expanded "><a href="ss/intro/intro.html"><strong aria-hidden="true">5.</strong> A Space Shooter in 16 Steps</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ss/step_01/draw_ship.html"><strong aria-hidden="true">5.1.</strong> Draw Ship on Screen</a></li><li class="chapter-item expanded "><a href="ss/step_02/animate_propulsion.html"><strong aria-hidden="true">5.2.</strong> Animate Propulsion</a></li><li class="chapter-item expanded "><a href="ss/step_03/ship_movement.html"><strong aria-hidden="true">5.3.</strong> Basic Ship Movement</a></li><li class="chapter-item expanded "><a href="ss/step_04/fire_bullets.html"><strong aria-hidden="true">5.4.</strong> Fire Laser Bullets</a></li><li class="chapter-item expanded "><a href="ss/step_05/remove_bullets.html"><strong aria-hidden="true">5.5.</strong> Remove Bullets</a></li><li class="chapter-item expanded "><a href="ss/step_06/draw_enemies.html"><strong aria-hidden="true">5.6.</strong> Draw Enemies</a></li><li class="chapter-item expanded "><a href="ss/step_07/move_enemies.html"><strong aria-hidden="true">5.7.</strong> Move Enemies</a></li><li class="chapter-item expanded "><a href="ss/step_08/points_and_health.html"><strong aria-hidden="true">5.8.</strong> Points and Health</a></li><li class="chapter-item expanded "><a href="ss/step_09/cleanup_and_prep.html"><strong aria-hidden="true">5.9.</strong> Collision 1: Cleanup and Prep</a></li><li class="chapter-item expanded "><a href="ss/step_10/define_boxes.html"><strong aria-hidden="true">5.10.</strong> Collision 2: Define Boxes</a></li><li class="chapter-item expanded "><a href="ss/step_11/collide_boxes.html"><strong aria-hidden="true">5.11.</strong> Collision 3: Collide Boxes</a></li><li class="chapter-item expanded "><a href="ss/step_12/change_states.html"><strong aria-hidden="true">5.12.</strong> Change states</a></li><li class="chapter-item expanded "><a href="ss/step_13/game_over.html"><strong aria-hidden="true">5.13.</strong> Health, Game Over, Immortaility</a></li><li class="chapter-item expanded "><a href="ss/step_14/explosions.html"><strong aria-hidden="true">5.14.</strong> Explosions</a></li><li class="chapter-item expanded "><a href="ss/step_15/stars.html"><strong aria-hidden="true">5.15.</strong> Stars</a></li><li class="chapter-item expanded "><a href="ss/step_16/enemy_movement.html"><strong aria-hidden="true">5.16.</strong> Enemy Movement and Respawn</a></li></ol></li><li class="chapter-item expanded "><a href="resources/resources.html"><strong aria-hidden="true">6.</strong> Resources</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>PICO-8 is like an emulator for a video game console that was never made. But,
unlike a typical emulator, PICO-8 includes the ability to browse and download
games. What's more, is that the PICO-8 environment includes all the tools you
need to create and modify games, whether they are ones of your own creation or
ones that you downloaded yourself.</p>
<h1 id="environment"><a class="header" href="#environment">Environment</a></h1>
<p>When you first launch PICO-8, you are presented with a command prompt. This is
a bit like the prompt computers that ran MS-DOS would boot to back in the 1980's.</p>
<h2 id="commands"><a class="header" href="#commands">Commands</a></h2>
<p>These are some of the commands you can run. Don't run any of these just yet.</p>
<ul>
<li>LS - show the files in the current directory</li>
<li>RUN (or ctrl-r) - run the current cartridge</li>
<li>SAVE (or ctrl-S) - save the current cartridge</li>
<li>INSTALL_DEMOS - install a few demo cartridges</li>
<li>SHUTDWON (or ctrl-q) - quit PICO-8</li>
<li>REBOOT - restart PICO-8</li>
<li>SPLORE - explore community created cartridges</li>
</ul>
<h1 id="editing-a-downloaded-game"><a class="header" href="#editing-a-downloaded-game">Editing a Downloaded Game</a></h1>
<p>As mentioned earlier, any game you run in PICO-8 can also be edited in PICO-8!
This gives you super powers. It allows you to customize any aspect of a game
you want! Let's take a peek in a cart to learn about the built-in editing
tools.</p>
<p>Run a game that looks interesting (or the Jelpi demo, if you don't have
Internet access). Once it is running, hit <code>esc</code>. If it gives you the option to
<code>exit to splore</code>, choose it and hit <code>esc</code>. Otherwise, just hit <code>esc</code>. This
should put you at a prompt. (It is the <code>&gt; </code> at the top of this next
screenshot.)</p>
<p><img src="overview//overview/splore_prompt.png" alt="Prompt" /></p>
<p>Now, hit <code>esc</code> to go into the code editor. This shows you all of the code in
the game you were running most recently.</p>
<p>The currently active tool is highlighted in the top right corner of the screen
(<code>()</code> in the example.)</p>
<p>If the game makes use of mulitple code tabs, these will appear in the top left.
The game in the screenshot only has a single code tab (labeled <code>0</code>).</p>
<p><img src="overview//overview/pico8_code.png" alt="Code Editor" /></p>
<p>To see the sprites (which include character and background graphics), click on
the face icon in the top right. It is just to the right of the <code>()</code> icon.</p>
<p>Unless you are editing the same game as me, the contents of this page will look
different.</p>
<p>PICO-8 uses a fixed pallete (those are the colors used in the sprites). This
pallete is shown in the top right. In the example, a light gray color is
selected. The current sprite is shown in the top left. Sprites are 8 pixels
wide and 8 pixels tall.</p>
<p>The available sprites are shown in the bottom pane. In this example, sprite
<code>001</code> is selected.</p>
<p>There are a number of tools just above the bottom pane. These include a pencil,
selection, movement, and paint bucket tool (among others).</p>
<p>Zoom levels, sprite pages, and sprite flags are also on this page, but those
will be discussed when and where they are used in the tutorials.</p>
<p><img src="overview//overview/pico8_sprites.png" alt="Sprite Editor" /></p>
<p>Sprites don't do us much good if they are not placed in a world. Most PICO-8
carts make use of the built-in map memory to display their sprites. The map
editor is to the right of the sprite editor. Click on it!</p>
<p><img src="overview//overview/pico8_map.png" alt="Map Editor" /></p>
<p>To the right of the map editor is the sound editor. Click on it!</p>
<p><img src="overview//overview/pico8_sound.png" alt="Sound Editor" /></p>
<p>To the right of the sound editor is the music editor. Click on it!</p>
<p><img src="overview//overview/pico8_music.png" alt="Music Editor" /></p>
<p>Those are all of the built-in tools. The <a href="https://www.lexaloffle.com/dl/docs/pico-8_manual.html">PICO-8
Manual</a> provides more
details about how to navigate and use the built-in tools. There's also a text
version included in your pico-8 installation! Look for <code>pico-8.txt</code>.</p>
<p>Making modifications to existing games is a great way to become familiar with
the tools and to express your own creativity. This is best done with simpler
titles as titles that push the limits of the console end up using advanced
techniques to cram everything into the limits of the console which makes
modifications more difficult than normal.</p>
<p>If you do end up wanting to make changes, hit <code>esc</code> to go to the prompt and
then use <code>save</code> to save the cart under a different name. Then feel free to make
the changes you want. Try them out by pressing <code>ctrl-r</code> or using the <code>run</code>
command. If you decide you don't like your changes, <code>load</code> your previously
saved version. If you like them, save them with <code>ctrl-s</code> or the <code>save</code> command.</p>
<h1 id="creating-your-own-games"><a class="header" href="#creating-your-own-games">Creating Your Own Games</a></h1>
<p>Now that we have explored an exist cart. Let's try making a simple cart.</p>
<p>Get to the prompt and run <code>reboot</code>. This will reset PICO-8.</p>
<p>Hit <code>esc</code> to go the code editor and enter the following.</p>
<ul>
<li>shift-L = <code>L</code></li>
<li>shift-R = <code>R</code></li>
<li>shift-U = <code>U</code></li>
<li>shift-D = <code>D</code></li>
</ul>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">col</span><span class="c07t">=</span><span class="c12t">7</span>
</div>
<div> <span class="c06t">x</span><span class="c07t">=</span><span class="c12t">10</span>
</div>
<div> <span class="c06t">y</span><span class="c07t">=</span><span class="c12t">10</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">L</span><span class="c07t">) </span><span class="c14t">then </span><span class="c06t">x</span><span class="c07t">-=</span><span class="c12t">1 </span><span class="c14t">end</span>
</div>
<div> <span class="c14t">if </span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">R</span><span class="c07t">) </span><span class="c14t">then </span><span class="c06t">x</span><span class="c07t">+=</span><span class="c12t">1 </span><span class="c14t">end</span>
</div>
<div> <span class="c14t">if </span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">U</span><span class="c07t">) </span><span class="c14t">then </span><span class="c06t">y</span><span class="c07t">-=</span><span class="c12t">1 </span><span class="c14t">end</span>
</div>
<div> <span class="c14t">if </span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">D</span><span class="c07t">) </span><span class="c14t">then </span><span class="c06t">y</span><span class="c07t">+=</span><span class="c12t">1 </span><span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">for </span><span class="c06t">i</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">5 </span><span class="c14t">do</span>
</div>
<div>  <span class="c11t">circfill</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">,</span><span class="c12t">10</span><span class="c07t">-</span><span class="c06t">i</span><span class="c07t">*</span><span class="c12t">2</span><span class="c07t">,</span><span class="c06t">col</span><span class="c07t">+</span><span class="c06t">i</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Hit <code>ctrl-r</code> to run it (or use the <code>run</code> command). You should see a
multi-colored circle that you can move around with the arrow keys.</p>
<p><img src="overview//overview/pico8_move_circle.png" alt="Move Circle" /></p>
<p>Run <code>save move_circle</code> if you want to save it.</p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-community"><a class="header" href="#the-community">The Community</a></h1>
<p>From producing lots of great tutorials to publishing creative, fun carts to
pushing the boundaries of PICO-8 to their limit, there's a lot to love about
PICO-8's community.</p>
<p>This section provides some pointers to help you get started navigating the
resources produced by the community along with ideas on how to best start
engaging with it.</p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="splore"><a class="header" href="#splore">Splore</a></h1>
<p>The command <code>splore</code> is used to launch an in-process game browser. The <code>splore</code>
tool provides several updatable game lists.</p>
<p>This first of these is the <code>favorites</code> view. It will be empty to start.
Whenever you select a cart, you have the option to tag it as a favorite so it
shows up here.</p>
<p><img src="community/./splore_favorites.png" alt="Favorites" /></p>
<p>Pressing the <code>R</code> arrow takes you to the <em>Game Jam</em> section. These are carts
created during <em>Game Jams</em> which are time limited competitions where
participants write a game using a common theme as inspiration.</p>
<p><img src="community/./splore_jam.png" alt="Game Jams" /></p>
<p>Press <code>R</code> to see a list of randomly chosen games. If you are tired of going
through the featured list, this is sometimes a good way to find something new.</p>
<p><img src="community/./splore_lucky.png" alt="Lucky Draw" /></p>
<p>Press <code>R</code> again to go to a list of <code>new</code> games. These are the most recent
community uploads. The quality of the games in this list is going to be hit or
miss. Not all of them will be complete.</p>
<p><img src="community/./splore_new.png" alt="New" /></p>
<p>Press <code>R</code> again to see my favorite list, the <code>featured</code> list. These are
usually very high quality games or demos that highlight what is possible using
PICO-8. My kids greatly enjoy going through this list and playing the games
that catch their eye.</p>
<p><img src="community/./splore_featured.png" alt="Featured" /></p>
<p>The next section is one that lets you search for games. This is helpful if you
have a particular game you are trying to find or want to see what the community
has made on a specific topic.</p>
<p><img src="community/./splore_search.png" alt="!Search" /></p>
<p>The final section lets you browse your local files. These are the same files
you will see by running <code>ls</code> from the command prompt.</p>
<p><img src="community/./splore_folders.png" alt="Folders" /></p>
<h1 id="browsing-games"><a class="header" href="#browsing-games">Browsing Games</a></h1>
<p>Let's go back to the <code>featured</code> list. Press <code>enter</code> to update the list. This
requires Internet access! It will data about a number of games.</p>
<p><img src="community/./splore_featured.png" alt="Featured" /></p>
<p>If you don't have Internet access, run the <code>install_demos</code> command to install
and run a few demo carts.</p>
<p><img src="community//overview/pico8_jelpi.png" alt="Install Demos" /></p>
<p>Use the arrow keys to navigate the list.</p>
<p><img src="community/./splore_browse.png" alt="Browse" /></p>
<p>If you press <code>enter</code> on a game, you will have the option to <code>run</code> or <code>favorite</code>
the game.</p>
<p><img src="community/./splore_options.png" alt="Options" /></p>
<p>Choosing <code>run</code> will start the game. Most games give show a title screen and
main menu. Some, like <code>flip knight</code> do not. Nearly all games can be controlled
using a combination of the arrow keys and the action keys (z and x). z maps to
<code>X</code> and x maps to <code>O</code>. When in doubt, just start pressing the action keys to
see what happens!</p>
<p><img src="community/./splore_run.png" alt="Run" /></p>
<p>Press <code>esc</code> and choose <code>exit to splore</code> if you want to exit the game.</p>
<p><img src="community/./splore_run_options.png" alt="Run Options" /></p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-pico-8"><a class="header" href="#using-pico-8">Using PICO-8</a></h1>
<p>This section of the tutorial largely comes from Dylan Bennett's excellent <a href="https://mboffin.itch.io/gamedev-with-pico-8-issue1">Game
Development with PICO-8</a>.</p>
<p>When you first run PICO-8, you start in a mode where you can type in commands.
From this mode you can type commands like save, load, and run. You can use the
command help to see what other commands you can run from this mode.</p>
<p>Use the <strong>ESC</strong> key to switch back and forth between editor mode and command
mode.  When you are playing a game and hit <strong>ESC</strong>, you'll come back to command
mode. Just hit <strong>ESC</strong> again to go into editor mode.</p>
<p>You'll find notes about each editor and shortcuts relevant to each on the
following pages. The shortcuts below are possible no matter which editor you
are currently using.</p>
<p>Shortcuts:</p>
<ul>
<li><strong>Alt-Right/Left</strong> - Next/previous editor</li>
<li><strong>Ctrl-S</strong> - Save</li>
<li><strong>Ctrl-R</strong> - Run</li>
<li><strong>Ctrl-M</strong> - Mute/Unmute</li>
<li><strong>Alt-Enter</strong> - Fullscreen</li>
<li><strong>Alt-F4, Ctrl-Q</strong> - Quit</li>
</ul>
<p>(Use Cmd instead of Ctrl on macOS.)</p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="limitations-and-specifications"><a class="header" href="#limitations-and-specifications">Limitations and Specifications</a></h1>
<h2 id="limitations-a-blessing-or-a-curse"><a class="header" href="#limitations-a-blessing-or-a-curse">Limitations: A Blessing or a Curse?</a></h2>
<p>As you learn about PICO-8 and the limitations it imposes, you may find yourself
wondering why they were put in place when the vast majority of systems running
PICO-8 would have no problems vastly exceeding its seemingly arbitrary
constraints.</p>
<p>The PICO-8 homepage provides part of the answer:</p>
<blockquote>
<p>The harsh limitations of PICO-8 are carefully chosen to be fun to work with,
to encourage small but expressive designs, and to give cartridges made with
PICO-8 their own particular look and feel.</p>
</blockquote>
<p>Constraints inspire and enable creativity. Every decision PICO-8 takes away
from you is one fewer you have to worry about. All of that energy can then be
turned to working within those constraints to create something amazing.</p>
<h2 id="specifications"><a class="header" href="#specifications">Specifications</a></h2>
<div class="table-wrapper"><table><thead><tr><th><em>Specification</em></th><th><em>Description</em></th></tr></thead><tbody>
<tr><td>Resolution</td><td>128x128</td></tr>
<tr><td>Palette</td><td>16 fixed colors</td></tr>
<tr><td>Sound</td><td>4 Channel Synth</td></tr>
<tr><td>Language</td><td>Lua</td></tr>
<tr><td>Cartridge Size</td><td>32k (64k with limitations)</td></tr>
<tr><td>Sprites</td><td>Up to 256 8x8 sprites</td></tr>
<tr><td>Map</td><td>Up to 128x32 cells</td></tr>
<tr><td>Tokens</td><td>8192</td></tr>
<tr><td>Input</td><td>4 directions, 2 buttons</td></tr>
<tr><td>Extended Input</td><td>Mouse, if in devkit mode</td></tr>
</tbody></table>
</div>
<h2 id="palette"><a class="header" href="#palette">Palette</a></h2>
<p>PICO-8 uses a fixed color palette. You are restricted to these colors. This
saves you from having to agonize over whether you have found the right shade of
blue for your character or background or other game element. The limited number of choices accelerates your development flow.</p>
<p>The table on this page comes from <a href="https://lospec.com/palette-list/pico-8">lospec</a>. If you are just using the PICO-8 environment, you will never need to know the RGB values for each of these colors. For those looking to expand their use of the palette beyond that, this reference may be useful.</p>
<div><img src="using/./limitations_palette.png"/></div>
<style>
div.palette {
  display: flex;
  flex-wrap: wrap;
  flex-grow: 0;
  padding: 5px;
  background: color(indent);
  margin: 10px 0 20px;
  width: 325px;
  margin: 0px;
}

.color {
  height: 32px;
   flex: 0 1 auto;
  text-align: center;
  color: white;
  font-size: 10px;
  text-align: center;
  vertical-align:center;
}
</style>
<div class="palette">
  <div class="color" style="background:#000000; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #000000
  </div>
  <div class="color" style="background:#1D2B53; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #1D2B53
  </div>
  <div class="color" style="background:#7E2553; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #7E2553
  </div>
  <div class="color" style="background:#008751; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #008751
  </div>
  <div class="color" style="background:#AB5236; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #AB5236
  </div>
  <div class="color" style="background:#5F574F; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #5F574F
  </div>
  <div class="color" style="background:#C2C3C7; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #C2C3C7
  </div>
  <div class="color" style="background:#FFF1E8; color: #000000; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #FFF1E8
  </div>
  <div class="color" style="background:#FF004D; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #FF004D
  </div>
  <div class="color" style="background:#FFA300; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #FFA300
  </div>
  <div class="color" style="background:#FFEC27; color: #000000; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #FFEC27
  </div>
  <div class="color" style="background:#00E436; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #00E436
  </div>
  <div class="color" style="background:#29ADFF; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #29ADFF
  </div>
  <div class="color" style="background:#83769C; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #83769C
  </div>
  <div class="color" style="background:#FF77A8; color: #ffffff; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #FF77A8
  </div>
  <div class="color" style="background:#FFCCAA; color: #000000; min-width: 25%; height: 75px; line-height: 75px; font-size: 14px">
    #FFCCAA
  </div>
</div>
<p>A secret second palette was added in later versions of PICO-8. Accessing it
isn't all that straight forward and there are some limitations on its use. It
is mentioned here to note its existence, but you may want to wait until you are
comfortable developing carts before seeking out the details.</p>
<h2 id="tokens"><a class="header" href="#tokens">Tokens</a></h2>
<p>One of PICO-8's limits is how much code you can use. This limit is a bit hard
to understand for people new to PICO-8.  It's based on something called tokens.
These are basically individual bits of code.  For example, something like
<code>x=width+7</code> takes up five tokens, one token for each part (<code>x</code>, <code>=</code>, <code>width</code>,
<code>+</code>, and <code>7</code>). You are allowed 8192 tokens of code, so you'll be fine until
you're making a fairly large game. You can see the number of tokens you've used
in the bottom-right of the code editor.</p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="code-editor"><a class="header" href="#code-editor">Code Editor</a></h1>
<p>All your code is written here. Even though the characters you see in the code
editor are uppercase, you type them in lowercase. PICO-8's font uses uppercase
characters for glyphs (graphical characters). For example, <strong>L</strong>, <strong>R</strong>, <strong>U</strong>, <strong>D</strong>, <strong>X</strong>, and <strong>O</strong> map to <code>L</code>, <code>R</code>, <code>U</code>, <code>D</code>, <code>X</code>, and <code>O</code>.</p>
<p>You can organize your code into tabs. Due to the limited space available, tabs
only have a number (starting at <code>0</code>). If the first line of code in a tab is a
comment (i.e. beings with <code>--</code>), the comment will be shown when you hover over
the tab number.</p>
<p><strong>Syntax Highlighting</strong> is what causes words and lines to be colored differently. Comment lines have a darker color. Keywords (like <code>function</code>, <code>for</code>, <code>do</code>, <code>if</code>, <code>then</code>, and <code>if</code> are colored pink. Built-in functions like <code>btn</code>, <code>btnp</code>, <code>print</code>, and <code>spr</code> are colored green.</p>
<p>Be on the lookout for words or lines colored differently than you expect. This can help you spot a typo in your code.</p>
<p>The bottom left of the code editor tells you which line you are on.</p>
<p>The bottom right shows the token count, by default. If you click it, you can
also view the character count or the compressed size. See the
<a href="using/./limitations.html">Limitations</a> section for more on why these are included.</p>
<h2 id="shortcuts"><a class="header" href="#shortcuts">Shortcuts</a></h2>
<ul>
<li><strong>Alt-Up/Down</strong> - Go up/down a function at a time</li>
<li><strong>Ctrl-L</strong> - Move to a specific line number</li>
<li><strong>Ctrl-Up/Down</strong> - Move to the very top/bottom</li>
<li><strong>Ctrl-Left/Right</strong> - Move left/right by one word</li>
<li><strong>Ctrl-F, Ctrl-G</strong> - Find text, or find again</li>
<li><strong>Ctrl-D</strong> - Duplicate the current line</li>
<li><strong>Tab/Shift-Tab</strong> - Indent/un-indent the currently selected line(s)</li>
<li><strong>Ctrl-Tab/Shift-Ctrl-Tab</strong> - Move to next/previous code tab</li>
</ul>
<p>(Use Cmd instead of Ctrl on macOS.)</p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sprite-editor"><a class="header" href="#sprite-editor">Sprite Editor</a></h1>
<p>Sprites are the pieces of art that make up your game. They might be
characters, map tiles, pickups, titles, backgrounds, anything. PICO-8 allows
you to have 256 8x8 sprites. These are split across 4 tabs labeled 0-3.
However, the last two tabs are shared with the Map Editor. So if you have a
really big map, you won't be able to use the last two tabs of sprites. But if
you're using the last two tabs of sprites, you won't be able to use the lower
half of the Map Editor.</p>
<p>Shortcuts:</p>
<ul>
<li><strong>H/V</strong> - Flip the sprite horizontally/vertically</li>
<li><strong>R</strong> - Rotate the sprite clockwise</li>
<li><strong>Q/W</strong> or <strong>- / =</strong> - Move to the previous/next sprite</li>
<li><strong>Shift-Q/Shift-W</strong> or <strong>_ / +</strong> - Move one row of
sprites back/forward</li>
<li><strong>1/2</strong> - Move to the previous/next color</li>
<li><strong>Up/Down/Left/Right</strong> - Loop sprite</li>
<li><strong>Mousewheel Up/Down</strong>, <strong>&lt; / &gt;</strong> - Zoom in/out</li>
<li><strong>Space</strong> - Pan around while space is held down</li>
<li><strong>Right-click</strong> - Select the color under the mouse</li>
</ul>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map-editor"><a class="header" href="#map-editor">Map Editor</a></h1>
<p>PICO-8's map tiles use the 8x8 sprites from the Sprite Editor. This means 16x16
tiles will fill an entire screen.</p>
<p>Even though you can have a maximum map size of 128 tiles wide and 64 tiles
tall, the lower half of the map actually shares space with the last two tabs of
the Sprite Editor. So you need to decide if you want a large map or if you want
a lot of sprites.  No matter what is drawn in sprite #0, that sprite is used as
an &quot;eraser&quot; sprite. You can use it to erase map tiles.</p>
<h2 id="shortcuts-1"><a class="header" href="#shortcuts-1">Shortcuts</a></h2>
<ul>
<li><strong>Mousewheel Up/Down</strong>, <strong>&lt; / &gt;</strong> - Zoom in/out</li>
<li><strong>Space</strong> - Pan around while space is held down</li>
<li><strong>Q/W</strong>, <strong>- / =</strong> - Move to the previous/next sprite</li>
<li><strong>Shift-Q/Shift-W</strong>, <strong>_ / +</strong> - Move one row of sprites back/forward</li>
<li><strong>1/2</strong> - Move to the previous/next color</li>
<li><strong>Up/Down/Left/Right</strong> - Loop sprite</li>
<li><strong>Right-click</strong> - Select the sprite under the mouse</li>
</ul>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sound-editor"><a class="header" href="#sound-editor">Sound Editor</a></h1>
<p>A PICO-8 cart can have up to 64 sounds. Each sound has 32 notes. You can
control the frequency, instrument, volume, and effect for each note.</p>
<p>You can also change the playback speed of the whole sound and make sections of
it loop. The Sound Editor has two modes: pitch mode and tracker mode. Pitch
mode is useful for simple sound effects, whereas tracker mode is useful for
music. Below is a PICO-8 music reference to use for tracker mode.</p>
<p><img src="using/./sound_reference.png" alt="Sound Reference" /></p>
<h2 id="shortcuts-2"><a class="header" href="#shortcuts-2">Shortcuts</a></h2>
<ul>
<li><strong>Space</strong> - Play/stop</li>
<li><strong>- / +</strong> - Go to previous/next sound</li>
<li><strong>&lt; / &gt;</strong> - Change the speed of the current sound</li>
<li><strong>Shift-Space</strong> - Play the current group of 8 notes</li>
<li><strong>Shift-Click</strong> on an instrument, effect, or volume to change all notes in a
sound at once</li>
<li><strong>Ctrl-Up/Ctrl-Down</strong>, <strong>PgUp/PgDn</strong> - Move up/down 4 notes at a time
(tracker mode only)</li>
<li><strong>Ctrl-Left/Ctrl-Right</strong> - Switch columns (tracker mode only)</li>
</ul>
<p>(Use Cmd instead of Ctrl on macOS.)</p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="music-editor"><a class="header" href="#music-editor">Music Editor</a></h1>
<p>The Music Editor allows you to create patterns of music using the sounds from
the Sound Editor. Each pattern has four channels that can each contain a sound
from the Sound Editor.</p>
<p>Playback of patterns is controlled by the three buttons in the top-right (two
arrows and a square).  If the right-facing arrow is on, that marks a start
point. If the left-facing arrow is on, that marks a loop point. If the square
button is on, that marks a stop point.</p>
<p>Playback flows from the end of one pattern to the beginning of the next.
However, if playback reaches the end of a pattern and finds a loop point, it
will search backward until it finds a start point and play from there. If
playback reaches the end of a pattern and finds a stop point, playback will
stop.</p>
<h2 id="shortcuts-3"><a class="header" href="#shortcuts-3">Shortcuts</a></h2>
<ul>
<li><strong>Space</strong> - Play/stop</li>
<li><strong>- / +</strong> - Go to previous/next pattern</li>
</ul>
<p><strong>Note:</strong> You can edit sounds in the Music Editor, so most Sound Editor
shortcuts also work here!</p>
<p>Check out the <a href="using//resources/resources.html">Resources</a> for a link to a bunch of
video tutorials about the sound and music editors!</p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="coordinates"><a class="header" href="#coordinates">Coordinates</a></h1>
<p>PICO-8's screen space is 128 pixels wide and 128 pixels tall. This may not seem
like a much at first, but you can do a lot in that amount of space!</p>
<p><img src="using/./coordinates.png" alt="Coordinates" /></p>
<p>Notice the coordinate 0,0 is in the top-left and coordinate 127,127 is in the
bottom-right. This means positive x goes to the right and positive y goes down.
(This may be different from what you're used to, where positive y is usually
up.) Also remember that because we start counting at 0, the position 127 is
actually the 128th pixel.</p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="programming-basics"><a class="header" href="#programming-basics">Programming Basics</a></h1>
<p>This will not be a full introduction to programming, but it will hit on a few
particularly important items.  Even if you don't know much about programming,
you'll be able to follow along if you just understand these few things. If know
programming already, you can skip all this stuff.</p>
<h2 id="variables"><a class="header" href="#variables">Variables</a></h2>
<p>Variables are ways to store information with an easy-to-remember name. As the
name &quot;variable&quot; implies, the information stored in the variable can vary, or
change. In PICO-8, variables can hold numbers, text, and the value true or
false. Here are a few examples of variables:</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">x</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div><span class="c06t">name</span><span class="c07t">=</span><span class="c12t">"dylan"</span>
</div>
<div><span class="c06t">alive</span><span class="c07t">=</span><span class="c06t">true</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Some words are reserved and you can't use them for variable names (like the
word <code>function</code>).  You also can't start the name of a variable with a number.</p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<p>Functions are a list of instructions for the computer that are all grouped
together under one name. Functions are usually created if you have a certain
set of actions you want the computer to do many different times.</p>
<p>Functions are written with parentheses after the name of the function. This is
so you can give the function extra information in case it needs that extra
information to do its job. Even if no extra information is needed, you still
need to write the parentheses.</p>
<p>Here's an example function called <code>draw_target()</code>. It draws a target shape
using filled circles. Note that it needs an X and a Y coordinate to do its job:</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">target</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c11t">circfill</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">,</span><span class="c12t">16</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div> <span class="c11t">circfill</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">,</span><span class="c12t">12</span><span class="c07t">,</span><span class="c12t">7</span><span class="c07t">)</span>
</div>
<div> <span class="c11t">circfill</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div> <span class="c11t">circfill</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">,</span><span class="c12t">7</span><span class="c07t">,</span><span class="c12t">7</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Maybe you noticed something: <code>circfill()</code> is a function too! It's a function
built into PICO-8, so you don't have to write the steps yourself, but it's
still a function. You give it an X/Y coordinate, a radius, and a color, and it
draws a filled circle at X/Y, at that radius, and with that color. And
<code>circlfill()</code> is just one of many built-in functions!</p>
<p>Usually a function just does the job you need it to do and that's that, like
the <code>draw_target()</code> function above, or <code>circlfill()</code>. But sometimes you need a
function to give back, or return, information when it's done doing all of its
steps.</p>
<p>Say you make a function that does a bunch of math, but you want to know the
result when it's done. In other words, you want it to return the result back to
you. Easy enough. You just use <code>return</code> and then specify what you want it to
return.</p>
<p>Here's a real example:</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">area</span><span class="c07t">(</span><span class="c06t">width</span><span class="c07t">,</span><span class="c06t">height</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">return </span><span class="c06t">width </span><span class="c07t">* </span><span class="c06t">height</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c06t">w</span><span class="c07t">=</span><span class="c12t">8</span>
</div>
<div><span class="c06t">h</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div><span class="c14t">if </span><span class="c07t">(</span><span class="c06t">area</span><span class="c07t">(</span><span class="c06t">w</span><span class="c07t">,</span><span class="c06t">h</span><span class="c07t">) > </span><span class="c12t">25</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div> <span class="c06t">print</span><span class="c07t">(</span><span class="c12t">"big!"</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>When that function gets run, the number returned would be <code>40</code>. Since <code>40</code> is
indeed greater than <code>25</code>, the <code>print()</code> function would then happen.</p>
<p>Functions are the backbone of anything you will create in PICO-8. Most games
are really just many, many functions strung together, each one making changes
to things in the game as the players play.  Really understanding how your code
moves from one function to another is the key to being able to make great
games.</p>
<h2 id="tables"><a class="header" href="#tables">Tables</a></h2>
<p>Tables are a way to store a lot of information all together under one variable
name. Most PICO-8 games will use a table at some point or another, so it's good
to understand how they work.</p>
<p>When you add a piece of information, or <strong>value</strong>, to a table, it gets paired
with a name or a number called a <strong>key</strong>. The key is what you use to get the
information back out of the table. You can say, &quot;Look up the information stored
in <strong>that</strong> table using <strong>this</strong> key.&quot; Keys are like the index in a book.</p>
<p>If you add values to a table without setting the key, the key will
automatically be assigned as a number.  Let's see an example of what this looks
like.</p>
<p><img src="using/./programming_tables.png" alt="Table Example" /></p>
<p>Now let's see how that looks in code. Take note how we create the player table
using empty curly braces. Then we add the values with named keys.</p>
<p>For the items table, we create the table with the values inside the curly
braces, but without names.  The keys get automatically assigned as numbers.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">player</span><span class="c07t">={}</span>
</div>
<div><span class="c06t">player</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">=</span><span class="c12t">112</span>
</div>
<div><span class="c06t">player</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">=</span><span class="c12t">73</span>
</div>
<div><span class="c06t">player</span><span class="c07t">.</span><span class="c06t">alive</span><span class="c07t">=</span><span class="c06t">true</span>
</div>
<div><span class="c06t">items</span><span class="c07t">={</span><span class="c12t">"sword"</span><span class="c07t">,</span><span class="c12t">"cloak"</span><span class="c07t">,</span><span class="c12t">"boots"</span><span class="c07t">}</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>That's how to get values into a table. But what about getting values back out?
For keys that are names, you can just use <code>table.key</code>, such as <code>player.x</code> or
<code>player.alive</code>. But for keys that are numbers, you use square brackets with the
number of the key inside, such as <code>items[1]</code> or <code>items[3]</code>.</p>
<p>If your table uses numbers for keys, you can find out how many values are
stored in a table by using the number sign (#), such as <code>#items</code>. In our
example, this would give you <code>3</code>. This is useful if you have to loop through
all the values in a table and do something with each value. Here's an example:</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">for </span><span class="c06t">i</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,#</span><span class="c06t">items </span><span class="c14t">do</span>
</div>
<div> <span class="c06t">print</span><span class="c07t">(</span><span class="c06t">items</span><span class="c07t">[</span><span class="c06t">i</span><span class="c07t">])</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>This starts <code>i</code> at <code>1</code> and counts to <code>#items</code> (which is <code>3</code>).
Each time, it will print the value at <code>items[i]</code>. Since
<code>i</code> goes from <code>1</code> to <code>3</code>, every item will be printed.</p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-game-loop"><a class="header" href="#the-game-loop">The Game Loop</a></h1>
<p>PICO-8 uses three specially-named functions to create what's called a game
loop. The <code>_init()</code> function happens one time, then <code>_update()</code> and <code>_draw()</code>
happen in a loop until your game ends.  Here's the basic structure of the
PICO-8 game loop and what each functions does:</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c13t">--code here one time</span>
</div>
<div> <span class="c13t">--when your game starts.</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div> <span class="c13t">--code here happens 30 times</span>
</div>
<div> <span class="c13t">--every second.</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c13t">--code here also happens 30</span>
</div>
<div> <span class="c13t">--time every second, but</span>
</div>
<div> <span class="c13t">--after _update() happens.</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>You <em>could</em> put all of your code inside these three functions, but it's
generally not considered a good idea. A better solution is usually to make
other functions that do specific things, and then have <code>_init()</code>, <code>_update()</code>,
or <code>_draw()</code> run those functions.</p>
<p>For example, instead of putting player movement code in <code>_update()</code>, write your
own function called <code>move_player()</code> and run that inside <code>_update()</code>.</p>
<p>Here's an example of how it would all look. (Try it out! Type this code into PICO-8 and run it! Don't forget to make sprite #1!)</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">make</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">move</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">() </span><span class="c13t">--clear screen</span>
</div>
<div> <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">make</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">px</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div> <span class="c06t">py</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div> <span class="c06t">psprite</span><span class="c07t">=</span><span class="c12t">1</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">move</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btn</span><span class="c07t">(</span><span class="c12t">0</span><span class="c07t">)) </span><span class="c06t">px</span><span class="c07t">-=</span><span class="c12t">1 </span><span class="c13t">--left</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btn</span><span class="c07t">(</span><span class="c12t">1</span><span class="c07t">)) </span><span class="c06t">px</span><span class="c07t">+=</span><span class="c12t">1 </span><span class="c13t">--right</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btn</span><span class="c07t">(</span><span class="c12t">2</span><span class="c07t">)) </span><span class="c06t">py</span><span class="c07t">-=</span><span class="c12t">1 </span><span class="c13t">--up</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btn</span><span class="c07t">(</span><span class="c12t">3</span><span class="c07t">)) </span><span class="c06t">py</span><span class="c07t">+=</span><span class="c12t">1 </span><span class="c13t">--down</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">spr</span><span class="c07t">(</span><span class="c06t">psprite</span><span class="c07t">,</span><span class="c06t">px</span><span class="c07t">,</span><span class="c06t">py</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>See how the game loop functions are kept nice and tidy? Now you can see a good
overview of how the game works just from those three functions.</p>
<p>When PICO-8 first came out, all your code went in one place. More recent
versions have added tabs to the code editor. This provides an additional way to
organize your code. The Adventure Game Tutorial makes great use of tabs. The
Space Shooter tutorial was written before tabs were in PICO-8. As you work
through them, notice how effective use of the tabs feature makes it easier to
work with the code in the tutorial.</p>
<p><strong>Note:</strong> Not all of the tutorials included on this site follow the guidance
given here. As you work through them, you may discover other practices you wish
were followed more consistently. Make a note of them and discuss them with your
community. You may find others agree and start following your example!</p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" type="text/css" href="pico-8.css">
<h1 id="flappy-bird"><a class="header" href="#flappy-bird">Flappy Bird</a></h1>
<p>
This article has its origin in a tweet cart. I was shocked when I first saw it. It was a fully functional game in only 273 characters! I had to learn how it worked.
</p>
<p>
The question that captivated me was, how small can you make a version of a game and still have it be recognizable as that game? If you distill a game down to its core, what does it look like? If you remove everything you can and then remove some more, when can you no longer call it the same game?
</p>
<p>
These are some the questions we are going to explore by building up a distilled version of the game Flappy Bird, from scratch.
</p>
<p>
The game we make will be recognizable as Flappy Bird, but not much beyond that.
</p>
<p>
This approach provides several benefits. It allows us to focus on the core game mechanics and to forget everything else. We can explore questions about what is essential and what can be added later. We gain a better understand the cost of each addition. We will focus on adding things in a fashion that allows us to playtest them along the way.
</p>
<p>
The essence of Flappy Bird can be captured in a mere 45 lines of code.
</p>
<p>
Ready? Let's go!
</p>
<div>
<p>
In Flappy Bird, you control a small bird who is constantly moving forward and must flap its wings to keep itself aflight while carefully timing those flaps so it doesn't run into the pipes that are constantly getting in the way.
</p>
</div>
<div>
	<div class="pico8-src c08b" style="width: 500px">&nbsp;</div>
	<div class="pico8-src" style="width: 500px">
		<div><span class="c13t">-- Here are the steps needed.</span></div>
		<div><span class="c13t">-- * draw and control a bird</span></div>
		<div><span class="c13t">-- * draw and move pipes</span></div>
		<div><span class="c13t">-- * collision detection</span></div>
		<div><span class="c13t">-- * add a score</span></div>
		<div><span class="c13t">-- * add another pipe and randomness</span></div>
	</div>
	<div class="pico8-src c08b" style="width: 500px">&nbsp;</div>
</div>
<h1 id="draw-and-control-a-bird"><a class="header" href="#draw-and-control-a-bird">Draw and Control a Bird</a></h1>
<p>
We start by drawing our bird.
</p>
<div class="grid-container"><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="add"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="add"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="add"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">30</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="add"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>
<img src="flappy/001-bird.png">
</p>
</div><div>
<p>
The bird is a red circle outline. The bottom right hand corner of the bird is at <span class="pico8-snippet"><span class="c12t">30</span><span class="c07t">,</span><span class="c06t">y</span></span>. Since the <span class="pico8-snippet"><span class="c11t">circ</span></span> function takes the center of the circle, we pass in <span class="pico8-snippet"><span class="c12t">26</span><span class="c07t">-</span><span class="c06t">y</span></span>. Forgetting to do this will cause subtle problems later on!
</p>
<p>
If you want a more solid bird, change <span class="pico8-snippet"><span class="c11t">circ</span></span> to <span class="pico8-snippet"><span class="c11t">circfill</span></span>.
</p>
<p>
If you are feeling adventurous, you can create sprite <span class="pico8-snippet"><span class="c12t">1</span></span> and use <span class="pico8-snippet"><span class="c11t">spr</span><span class="c07t">(</span><span class="c12t">22</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">8</span><span class="c07t">,</span><span class="c12t">1</span><span class="c07t">)</span></span> instead of <span class="pico8-snippet"><span class="c11t">circ</span></span>, but there a few cautions to keep in mind to avoid breaking our collision detection logic..
</p>
<ul>
<li>Be sure to use <span class="pico8-snippet"><span class="c12t">22</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">8</span></span> and not <span class="pico8-snippet"><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span></span> or <span class="pico8-snippet"><span class="c12t">30</span><span class="c07t">,</span><span class="c06t">y</span></span> when drawing your sprite!</li>
</ul>
<ul>
<li>Use an 8x8 sprite.</li>
</ul>
</div></div>
<p>
Having a bird float in the middle of the air is no fun (and it is kind of weird). Let's fix that!
</p>
<div class="grid-container"><div>
<p>
We use <span class="pico8-snippet"><span class="c06t">O</span></span> to control our bird. Pressing it causes the bird to flap its wings and gain a little altitude, but gravity is always trying to pull it down.
</p>
<p>
Since our bird has nothing to avoid and only moves vertically, you may want to wait a bit before trying the next couple of modification ideas.
</p>
<p>
<span class="pico8-snippet"><span class="c06t">dy</span></span> controls our fall rate. Adjust the <span class="pico8-snippet"><span class="c07t">.</span><span class="c12t">6</span></span> value down, for flaps to be more forgiving. Change <span class="pico8-snippet"><span class="c12t">5</span></span> down to require more flapping!
</p>
<p>
If you want to control the bird with either <span class="pico8-snippet"><span class="c06t">O</span></span> or <span class="pico8-snippet"><span class="c06t">X</span></span>, change the if to read:<span class="pico8-snippet"> <span class="None"> </span><span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)</span> <span class="None"> </span><span class="c14t">or</span> <span class="None"> </span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">X</span><span class="c07t">))</span> <span class="None"> </span><span class="c06t">dy</span><span class="c07t">-=</span><span class="c12t">5</span></span>.
</p>
<p>
If you want a bird who can flap nonstop, change <span class="pico8-snippet"><span class="c11t">btnp</span></span> to <span class="pico8-snippet"><span class="c11t">btn</span></span>. (I find individual flaps to be more satisfying. What is your preference?)
</p>
</div><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="add">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="add"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="add">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="add">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="add"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>
<video controls poster="001-bird.png"> <source src="001-bird-flap.mp4"/> </video>
</p>
</div></div>
<h1 id="draw-and-control-pipes"><a class="header" href="#draw-and-control-pipes">Draw and Control Pipes</a></h1>
<p>
Next up, pipes to avoid!
</p>
<p>
We are going to use a bit of a unique approach to the pipes. Internally, we will cause the pipes to move toward the bird. The description of the code will similarly talk about the "pipes moving". This may seem a bit weird, but it ultimately makes no difference to the visual experience and the simplification of the implementation it enables is well worth it.
</p>
<div class="grid-container"><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="add">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="add">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="add"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="add">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">50</span>
</div>
<div class="add">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="add"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="add">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">30</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="add">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div><div>
<ul>
<li><span class="pico8-snippet"><span class="c06t">dx</span></span> is the speed the pipe approaches.</li>
</ul>
<ul>
<li><span class="pico8-snippet"><span class="c06t">x</span></span> is the left hand edge of the oncoming pipe.</li>
</ul>
<ul>
<li><span class="pico8-snippet"><span class="c06t">pw</span></span> is the width of our pipe (which makes <span class="pico8-snippet"><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span></span> the right hand edge).</li>
</ul>
<p>
If you want the pipes to move across the screen more quickly, adjust <span class="pico8-snippet"><span class="c06t">dx</span></span>. Once we have a score, you could consider adjusting it up a bit each time the player scores another <span class="pico8-snippet"><span class="c12t">10</span></span> points (or even <span class="pico8-snippet"><span class="c12t">1</span></span> point).
</p>
<p>
Adjusting the value of <span class="pico8-snippet"><span class="c06t">x</span></span> up will increase the space between pipes. Adjusting it down is inadvisable at the moment as it will result in a pipe appearing out of nowhere onto the screen.
</p>
</div></div>
<div class="grid-container"><div>
<p>
If you run the cart, you'll notice that once the pipe moves off the screen, the bird is left all alone! Let's cause a new pipe to appear once the first pipe goes off the screen.
</p>
</div><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div></div>
<p>
We want until the right edge of the pipe (<span class="pico8-snippet"><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span></span>) goes off of the screen (<span class="pico8-snippet"><span class="c06t">x</span><span class="c07t">=</span><span class="c12t">0</span></span> is the edge of the screen) and then call <span class="pico8-snippet"><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span></span> to reset the pipe back to the right egde. If we remove it earlier, the pipes would look like they just disappear! We can delay it if we want the next pipe to come later.
</p>
<p>
Note: This conditional be written as <span class="pico8-snippet"><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t"><</span><span class="c12t">0</span></span>, but <span class="pico8-snippet"><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span></span> is a bit shorter.
</p>
<p>
Now the bird can flap and fly over (or into) pipe after pipe without end!
</p>
<h1 id="adding-collision-detection"><a class="header" href="#adding-collision-detection">Adding Collision Detection</a></h1>
<p>
The "flying into" part is what we will fix next, but we will need to build up to it over a few sets of changes.
</p>
<p>
Generic collision detection does four different comparisons to determine if objects overlap. Since our pipes go off screen, we can eliminate one of these.
</p>
<div class="grid-container"><div>
<p>
Let's start with detecting whether the left edge of the bird (<span class="pico8-snippet"><span class="c12t">30</span></span>) is past the left edge of the oncoming pipe (<span class="pico8-snippet"><span class="c06t">x</span></span>).
</p>
</div><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="add">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">then</span>
</div>
<div class="add">		<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c14t">end</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div></div>
<p>
The moment the bird passes the edge of the pipe, the game will reset, but the game resets even if we were way above the pipe!
</p>
<div class="grid-container"><div>
<p>
To correct this, we need to add another check. This one will be whether the bottom edge of the bird (<span class="pico8-snippet"><span class="c06t">y</span></span>) is below the top edge of the bottom pipe (<span class="pico8-snippet"><span class="c06t">bp</span></span>). Since <span class="pico8-snippet"><span class="c06t">y</span></span> values go down, we need to see if <span class="pico8-snippet"><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp</span></span>.
</p>
</div><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">then</span>
</div>
<div class="add">		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">then</span>
</div>
<div class="lea">			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="add">		<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div></div>
<p>
This is a little better. We can fly high above a pipe and the game won't reset, but the moment we fly past a pipe and drop down below where the top of the pipe was, the game resets!
</p>
<div class="grid-container"><div>
<p>
To fix this, we add the final check. We look to see if the left edge of the bird (<span class="pico8-snippet"><span class="c12t">30</span><span class="c07t">-</span><span class="c12t">8</span></span> or <span class="pico8-snippet"><span class="c12t">22</span></span>) is not past the right edge of the pipe (<span class="pico8-snippet"><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span></span>).
</p>
</div><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="mod">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">and </span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">>=</span><span class="c12t">22 </span><span class="c14t">then</span>
</div>
<div class="lea">		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">then</span>
</div>
<div class="lea">			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">		<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div></div>
<p>
With that, the game should never reset on us unless the bird hits a pipe.
</p>
<h1 id="adding-a-score"><a class="header" href="#adding-a-score">Adding a Score</a></h1>
<p>
Let's add a score to keep track of how many times we pass a pipe without getting hit.
</p>
<div class="grid-container"><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="add">	<span class="c06t">s</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div class="lea">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="add"><span class="c13t">-- skipping --</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">30</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="add">	<span class="c07t">?</span><span class="c06t">s</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">7</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div><div>
<p>
This displays a score, but we never increment it! The question is, when should we increment it?
</p>
<p>
This one is a bit tricky. We need to detect the moment the left edge of the bird passes the right edge of the pipe without hitting it. This occurs when <span class="pico8-snippet"><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">==</span><span class="c12t">22</span><span class="c07t">-</span><span class="c12t">1</span></span> which translates to <span class="pico8-snippet"><span class="c06t">x</span><span class="c07t">+</span><span class="c12t">16</span><span class="c07t">==</span><span class="c12t">21</span></span> or <span class="pico8-snippet"><span class="c06t">x</span><span class="c07t">==</span><span class="c12t">5</span></span> so <span class="pico8-snippet"><span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">==</span><span class="c12t">5</span><span class="c07t">)</span> <span class="None"> </span><span class="c06t">s</span><span class="c07t">+=</span><span class="c12t">1</span></span>. This is technically correct, but if you try it, it doesn't work.
</p>
<p>
The reason is <span class="pico8-snippet"><span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span></span>. When <span class="pico8-snippet"><span class="c06t">x</span></span> starts at <span class="pico8-snippet"><span class="c12t">128</span></span> and decreases by <span class="pico8-snippet"><span class="c12t">2</span></span> each frame, it will never equal <span class="pico8-snippet"><span class="c12t">5</span></span>. You may be tempted to just say <span class="pico8-snippet"><span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><</span><span class="c12t">5</span><span class="c07t">)</span> <span class="None"> </span><span class="c06t">s</span><span class="c07t">+=</span><span class="c12t">1</span></span>, but then the score will increase for several frames after the bird passes the pipe and before it moves back to the righthand side of the screen.
</p>
<p>
I thought about maintaining a boolean to track whether we have increased the score since the last pipe creation. I even had it implemented at some point, but it was cumbersome and complex.
</p>
</div></div>
<div class="grid-container"><div>
<p>
The solution I settled on and recommend is to use a check of <span class="pico8-snippet"><span class="c06t">x</span><span class="c07t">==</span><span class="c12t">4</span></span>. (If you changed <span class="pico8-snippet"><span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span></span> in <span class="pico8-snippet"><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span></span>, you may need to adjust this.)
</p>
</div><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">and </span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">>=</span><span class="c12t">22  </span><span class="c14t">then</span>
</div>
<div class="lea">		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp  </span><span class="c14t">then</span>
</div>
<div class="lea">			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">		<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">end</span>
</div>
<div class="add">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">==</span><span class="c12t">4</span><span class="c07t">) </span><span class="c06t">s</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div></div>
<p>
Now the score will increment (and only increment once) when you pass a pipe.
</p>
<h1 id="adding-another-pipe-and-randomness"><a class="header" href="#adding-another-pipe-and-randomness">Adding Another Pipe and Randomness</a></h1>
<p>
You could argue this is a complete game. We have a way to fail and we have a score we can try to beat, but Flappy Bird games require that you go between two pipes so let's add a top pipe.
</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">50</span>
</div>
<div class="add">	<span class="c06t">tp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">-</span><span class="c12t">20</span>
</div>
<div class="lea">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="add"><span class="c13t">-- skipping --</span>
</div>
<div class="lea">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t">>=</span><span class="c12t">30 </span><span class="c14t">and </span><span class="c12t">22</span><span class="c07t">>=</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw </span><span class="c14t">then</span>
</div>
<div class="add">		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">or </span><span class="c06t">y</span><span class="c07t"><=</span><span class="c06t">tp </span><span class="c14t">then</span>
</div>
<div class="lea">			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="add">		<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">end</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">30</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="add">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">tp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,-</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c07t">?</span><span class="c06t">s</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">7</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>
With these changes, we now have an opening we have to try to get through, but you'll notice that it is always at the same height.
</p>
<p>
Let's add some randomness to make the game a bit more challenging.
</p>
<div class="grid-container"><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="mod">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">20</span><span class="c07t">+</span><span class="c11t">flr</span><span class="c07t">(</span><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">88</span><span class="c07t">))</span>
</div>
<div class="mod">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="mod">	<span class="c06t">tp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">-</span><span class="c12t">20</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div><div>
<p>
Why this equation? A few reasons. The screen is 128 pixels tall. If <span class="pico8-snippet"><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">88</span><span class="c07t">)</span></span> returns <span class="pico8-snippet"><span class="c12t">0</span></span> then the top pipe will be <span class="pico8-snippet"><span class="c12t">20</span><span class="c07t">+</span><span class="c12t">0</span><span class="c07t">-</span><span class="c12t">20</span></span> pixels from the top of the screen. If <span class="pico8-snippet"><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">88</span><span class="c07t">)</span></span> returns <span class="pico8-snippet"><span class="c12t">88</span></span>, then the bottom pipe will be at <span class="pico8-snippet"><span class="c12t">20</span><span class="c07t">+</span><span class="c12t">88</span><span class="c07t">+</span><span class="c12t">20</span></span> which is right at the bottom of the screen. If you don't want that, decrease <span class="pico8-snippet"><span class="c12t">88</span></span> by the same amount you increase the <span class="pico8-snippet"><span class="c12t">20</span><span class="c07t">+</span></span>.
</p>
<p>
If you want a smaller opening, decrease the <span class="pico8-snippet"><span class="c07t">+</span><span class="c12t">20</span></span>/<span class="pico8-snippet"><span class="c07t">-</span><span class="c12t">20</span></span>. The current calculation gives you a 40 pixel tall opening.
</p>
<p>
A subtle point worth mentioning is the call to <span class="pico8-snippet"><span class="c11t">flr</span></span>. <span class="pico8-snippet"><span class="c11t">rnd</span></span> returns a floating point value and this messes with our scoring logic. By flooring it, we ensure that <span class="pico8-snippet"><span class="c06t">x</span><span class="c07t">==</span><span class="c12t">4</span></span> will be true if the bird passes a pipe.
</p>
<p>
If you want a laugh, change <span class="pico8-snippet"><span class="c06t">y</span><span class="c07t">+=</span><span class="c06t">dy</span></span> to <span class="pico8-snippet"><span class="c06t">y</span><span class="c07t">=</span><span class="c06t">p</span></span>. That's what I call precision flying!
</p>
</div></div>
<h1 id="summary-and-next-steps"><a class="header" href="#summary-and-next-steps">Summary and Next Steps</a></h1>
<div class="grid-container"><div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div>	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div>	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div>	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div>	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div>	<span class="c06t">s</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div>	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div>	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div>	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">20</span><span class="c07t">+</span><span class="c11t">flr</span><span class="c07t">(</span><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">88</span><span class="c07t">))</span>
</div>
<div>	<span class="c06t">tp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">-</span><span class="c12t">20</span>
</div>
<div>	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div>	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div>	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div>	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div>	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div>	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div>	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">and </span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">>=</span><span class="c12t">22 </span><span class="c14t">then</span>
</div>
<div>		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">or </span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">8</span><span class="c07t"><=</span><span class="c06t">tp </span><span class="c14t">then</span>
</div>
<div>			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div>		<span class="c14t">end</span>
</div>
<div>	<span class="c14t">end</span>
</div>
<div>	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">==</span><span class="c12t">4</span><span class="c07t">) </span><span class="c06t">s</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div>	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div>	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">30</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div>	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div>	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">tp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,-</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div>	<span class="c07t">?</span><span class="c06t">s</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">7</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div><div>
<p>
With that, we have completed our distillation of Flappy Bird. The core game mexhanics are all there. It may not look like much, but if you give it a fresh coat of paint by changing the rendering logic, you can go from this...
</p>
<p>
to this...
</p>
<p>
They don't look like the same game, but they are! All that was changed was swapping out primitive drawing functions for sprite drawing functions and adding a background.
</p>
<p>
If you wanted, you could even keep both rendering options and allow the player to choose which to use (or even switch during the middle of a round)!
</p>
</div></div>
<p>
Where you go from here is up to you, but here are some ideas to get you started.
</p>
<ul>
<li>Add more than one pipe. Experiment with how far apart they are. Keep it constant or add some randomness or change it with the score.</li>
</ul>
<ul>
<li>Change the rendering logic. Add animations.</li>
</ul>
<ul>
<li>Add sounds and music.</li>
</ul>
<ul>
<li>Increase the speed over time.</li>
</ul>
<ul>
<li>See how small you can make the cart. I have a version that is only 206 characters!</li>
</ul>
<p>
Here is a very polished flappy bird like cart to give you additional ideas. Note the use of sounds, music, different bird sprites, the cloud trail behind the bird, the stylized pipes, etc.
<iframe width="750px" height="680px" src="./not_flappy_bird.html"></iframe>
<a href="flappy/./not_flappy_bird.p8.png" target="_blank">Download</a>
</p>
<p>
You have already duplicated the core mechanics of this game! The rest is just additional incremental changes to the foundation you already have! Take it a step at a time. Think about the next small change you want to see and devise as small an experiment as possible to try it out. Rinse, repeat, and rejoice!
</p>
<script type="text/javascript" src="pico-8.js"></script>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" type="text/css" href="pico-8.css">
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="add"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="add"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="add"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="add"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<br/>
<div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="add">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="add"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="add">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="add">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="add"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<br/>
<div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="add">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="add">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="add">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="add"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="add">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">50</span>
</div>
<div class="add">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="add"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="add">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="add">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<br/>
<div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="lea">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="lea">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">50</span>
</div>
<div class="lea">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<div style="display:none">
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="lea">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="lea">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">50</span>
</div>
<div class="lea">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="add">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">then</span>
</div>
<div class="add">		<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="add">	<span class="c14t">end</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<br/>
<div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="lea">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="lea">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">50</span>
</div>
<div class="lea">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="lea">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">then</span>
</div>
<div class="add">		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">then</span>
</div>
<div class="lea">			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="add">		<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">end</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<br/>
<div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="lea">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="lea">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">50</span>
</div>
<div class="lea">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="add">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">and </span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">>=</span><span class="c12t">22 </span><span class="c14t">then</span>
</div>
<div class="lea">		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">then</span>
</div>
<div class="lea">			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">		<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">end</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<br/>
<div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="add">	<span class="c06t">s</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div class="lea">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="lea">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">50</span>
</div>
<div class="lea">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="lea">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">and </span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">>=</span><span class="c12t">22 </span><span class="c14t">then</span>
</div>
<div class="lea">		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">then</span>
</div>
<div class="lea">			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">		<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">end</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="add">	<span class="c07t">?</span><span class="c06t">s</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">7</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<br/>
<div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="lea">	<span class="c06t">s</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div class="lea">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="lea">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">50</span>
</div>
<div class="lea">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="lea">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">and </span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">>=</span><span class="c12t">22 </span><span class="c14t">then</span>
</div>
<div class="lea">		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">then</span>
</div>
<div class="lea">			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">		<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">end</span>
</div>
<div class="add">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">==</span><span class="c12t">22</span><span class="c07t">-</span><span class="c12t">2</span><span class="c07t">) </span><span class="c06t">s</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c07t">?</span><span class="c06t">s</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">7</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<br/>
<div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="lea">	<span class="c06t">s</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div class="lea">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="lea">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">50</span>
</div>
<div class="add">	<span class="c06t">tp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">-</span><span class="c12t">20</span>
</div>
<div class="lea">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="lea">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">and </span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">>=</span><span class="c12t">22 </span><span class="c14t">then</span>
</div>
<div class="add">		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">or </span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">8</span><span class="c07t"><=</span><span class="c06t">tp </span><span class="c14t">then</span>
</div>
<div class="lea">			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">		<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">==</span><span class="c12t">22</span><span class="c07t">-</span><span class="c12t">2</span><span class="c07t">) </span><span class="c06t">s</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="add">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">tp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,-</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c07t">?</span><span class="c06t">s</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">7</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<br/>
<div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div class="lea">	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div class="lea">	<span class="c06t">s</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div class="lea">	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div class="mod">	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">20</span><span class="c07t">+</span><span class="c11t">flr</span><span class="c07t">(</span><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">88</span><span class="c07t">))</span>
</div>
<div class="mod">	<span class="c06t">tp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">-</span><span class="c12t">20</span>
</div>
<div class="mod">	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div class="lea">	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div class="lea">	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div class="lea">	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">and </span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">>=</span><span class="c12t">22 </span><span class="c14t">then</span>
</div>
<div class="lea">		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">or </span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">8</span><span class="c07t"><=</span><span class="c06t">tp </span><span class="c14t">then</span>
</div>
<div class="lea">			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea">		<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">end</span>
</div>
<div class="lea">	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">==</span><span class="c12t">22</span><span class="c07t">-</span><span class="c12t">2</span><span class="c07t">) </span><span class="c06t">s</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div>
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea">	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">tp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,-</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div class="lea">	<span class="c07t">?</span><span class="c06t">s</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">7</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<br/>
<div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div>	<span class="c06t">y</span><span class="c07t">=</span><span class="c12t">64</span>
</div>
<div>	<span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div>	<span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div>	<span class="c06t">pw</span><span class="c07t">=</span><span class="c12t">16</span>
</div>
<div>	<span class="c06t">s</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div>	<span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div>	<span class="c06t">x</span><span class="c07t">=</span><span class="c12t">128</span>
</div>
<div>	<span class="c06t">p</span><span class="c07t">=</span><span class="c12t">20</span><span class="c07t">+</span><span class="c11t">flr</span><span class="c07t">(</span><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">88</span><span class="c07t">))</span>
</div>
<div>	<span class="c06t">tp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">-</span><span class="c12t">20</span>
</div>
<div>	<span class="c06t">bp</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">+</span><span class="c12t">20</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div>	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t"><-</span><span class="c06t">pw</span><span class="c07t">) </span><span class="c06t">create</span><span class="c07t">_</span><span class="c06t">pipe</span><span class="c07t">()</span>
</div>
<div>	<span class="c06t">dy</span><span class="c07t">-=.</span><span class="c12t">6</span>
</div>
<div>	<span class="c14t">if</span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">O</span><span class="c07t">)) </span><span class="c06t">dy</span><span class="c07t">=</span><span class="c12t">5</span>
</div>
<div>	<span class="c06t">y</span><span class="c07t">-=</span><span class="c06t">dy</span>
</div>
<div>	<span class="c06t">x</span><span class="c07t">-=</span><span class="c06t">dx</span>
</div>
<div>	<span class="c14t">if </span><span class="c06t">x</span><span class="c07t"><=</span><span class="c12t">30 </span><span class="c14t">and </span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">>=</span><span class="c12t">22 </span><span class="c14t">then</span>
</div>
<div>		<span class="c14t">if </span><span class="c06t">y</span><span class="c07t">>=</span><span class="c06t">bp </span><span class="c14t">or </span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">8</span><span class="c07t"><=</span><span class="c06t">tp </span><span class="c14t">then</span>
</div>
<div>			<span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div>		<span class="c14t">end</span>
</div>
<div>	<span class="c14t">end</span>
</div>
<div>	<span class="c14t">if</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">==</span><span class="c12t">22</span><span class="c07t">-</span><span class="c12t">2</span><span class="c07t">) </span><span class="c06t">s</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div>	<span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div>	<span class="c11t">circ</span><span class="c07t">(</span><span class="c12t">26</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">-</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div>	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">tp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,-</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div>	<span class="c11t">rect</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">bp</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">pw</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div>	<span class="c07t">?</span><span class="c06t">s</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">7</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
</div>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adventure-game-tutorial"><a class="header" href="#adventure-game-tutorial">Adventure Game Tutorial</a></h1>
<p>The content in this subsection comes from the &quot;PICO-8 Top-Down Adventure Game Tutorial by Dylan Bennett.</p>
<ul>
<li><a href="https://www.youtube.com/playlist?list=PLdLmU93eWisKpyk1WZywUSYAq5dkCPFIv">Original youtube playlist</a> of the tutorial series</li>
<li><a href="https://mboffin.itch.io/pico-8-top-down-adventure-game-tutorial">Official homepage</a> for the tutorial</li>
<li>Other PICO-8 tutorials from the author.</li>
</ul>
<p>It is also based on this <a href="http://www.helianthi.com/pages/pico-8-adventure/">write-up</a> of Dylan's tutorial by John Lehmann.</p>
<h2 id="preview"><a class="header" href="#preview">Preview</a></h2>
<p>Here is what you will build over the course of this tutorial.</p>
<iframe width="750px" height="680px" src="../step_12/adventuregame_bonus_step_more_tiles.html"></iframe>
<a href="ag/intro/../step_12/adventuregame_bonus_step_more_tiles.p8.png" target="_blank">Download</a>
<h2 id="other-examples"><a class="header" href="#other-examples">Other Examples</a></h2>
<p>Here are some screenshots of games others have made following this tutorial.</p>
<img src="ag/intro/./example_space_1.png" style="min-width: 400px; max-width: 800px"/>
<img src="ag/intro/./example_space_2.png" style="min-width: 400px; max-width: 800px"/>
<img src="ag/intro/./example_explorer_1.png" style="min-width: 400px; max-width: 800px"/>
<img src="ag/intro/./example_explorer_2.png" style="min-width: 400px; max-width: 800px"/>
<img src="ag/intro/./example_blob_1.png" style="min-width: 400px; max-width: 800px"/>
<p>This is a game made by the tutorial's author that is based on the framework built
in the tutorial. It adds a few additional features not covered in the tutorial, but
is a great example of what can be done with this foundation.</p>
<iframe width="750px" height="680px" src="./advent_challah.html"></iframe>
<a href="ag/intro/./advent_challah-11.p8.png" target="_blank">Download</a>
<h2 id="other-top-down-games"><a class="header" href="#other-top-down-games">Other Top-Down Games</a></h2>
<p>These are games that make use of a top-down perspective. Perhaps one of these will
give you inspiration about what you want to include in your game?</p>
<p>Puzzle Cave is a great example of a game successful enough to lead to sequels.
Here's the original. Notice that from a layout design standpoint, this isn't much
more complex than the adventure game tutorial.</p>
<iframe width="750px" height="680px" src="./21104_puzzle_cave_1.html"></iframe>
<a href="ag/intro/./21104_puzzle_cave_1.p8.png" target="_blank">Download</a>
<p>Sequels usually add more than just additional levels. They often include new item
or enemy types as this one does.</p>
<iframe width="750px" height="680px" src="./21105_puzzle_cave_2.html"></iframe>
<a href="ag/intro/./21105_puzzle_cave_2.p8.png" target="_blank">Download</a>
<p>The third installment of the game uses a different theme than the other two.</p>
<iframe width="750px" height="680px" src="./40867_puzzle_cave_3.html"></iframe>
<a href="ag/intro/./40867_puzzle_cave_3.p8.png" target="_blank">Download</a>
<p>Games are often built around a core mechanic. This is a fun little game that
more or less only has the core mechanic. As you play, think about what would
be needed to take this from a concept to a finished product.</p>
<iframe width="750px" height="680px" src="./mellow-2.html"></iframe>
<a href="ag/intro/./mellow-2.p8.png" target="_blank">Download</a>
<p>Some games keep you guessing. This one has several surprises just within its
first few moments.</p>
<iframe width="750px" height="680px" src="./47637_null.html"></iframe>
<a href="ag/intro/./47637.p8.png" target="_blank">Download</a>
<p>Here's a game that doesn't look much different than the adventure game tutorial,
but it adds an inventory, dialog, the ability to inspect items, etc.</p>
<iframe width="750px" height="680px" src="./41029_kleins_delivery.html"></iframe>
<a href="ag/intro/./41029_kleins_delivery.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-map"><a class="header" href="#the-map">The Map</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/J1wvvbVQ5zo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Start by going to the sprite editor and drawing nine sprites:</p>
<ul>
<li>grass, fancy grass, and rock</li>
<li>water, fancy water, and water rock</li>
<li>road, fancy road, and wall</li>
</ul>
<p>Here's an example of what they might look like:</p>
<img src="ag/step_01/./sprites.png" width="400"/>
<p>Toggle sprite flag 0 on the rock, the three water tiles, and the wall sprite.</p>
<img src="ag/step_01/./flag_0.png" width="400"/>
<h2 id="draw-a-map"><a class="header" href="#draw-a-map">Draw a Map</a></h2>
<p>Now that you have some sprites created, lets use them to draw a map for our game.</p>
<p>Head on over to the map tool (third icon from the left in the top bar).</p>
<img src="ag/step_01/./map_0.png"/>
<p>Once you fill the first screen, add another. To do so, you'll need to pan
the map by holding space and dragging with the mouse.</p>
<p>Here's what you might want to put on the second screen.</p>
<img src="ag/step_01/./map_1.png"/>
<p>Here's what the map looks like zoomed out with both screens populated.</p>
<img src="ag/step_01/./map_zoomed_out.png"/>
<h2 id="game-loop"><a class="header" href="#game-loop">Game Loop</a></h2>
<p>Create the main <code>game loop</code>. Put this in the <strong>0</strong> tab of the editor.</p>
<img src="ag/step_01/./tab_0.png" width="400"/>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c13t">--game loop</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">map</span><span class="c07t">_</span><span class="c06t">setup</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="map-code"><a class="header" href="#map-code">Map Code</a></h2>
<p>Create the code that draws the map. Click the <strong>+</strong> button to create tab <strong>1</strong> and put this code in that tab.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c13t">--map code</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">map</span><span class="c07t">_</span><span class="c06t">setup</span><span class="c07t">()</span>
</div>
<div> <span class="c13t">--map tile settings</span>
</div>
<div> <span class="c06t">wall</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div> <span class="c06t">key</span><span class="c07t">=</span><span class="c12t">1</span>
</div>
<div> <span class="c06t">door</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div> <span class="c06t">anim1</span><span class="c07t">=</span><span class="c12t">3</span>
</div>
<div> <span class="c06t">anim2</span><span class="c07t">=</span><span class="c12t">4</span>
</div>
<div> <span class="c06t">lose</span><span class="c07t">=</span><span class="c12t">6</span>
</div>
<div> <span class="c06t">win</span><span class="c07t">=</span><span class="c12t">7</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">map</span><span class="c07t">(</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="end-result"><a class="header" href="#end-result">End Result</a></h2>
<iframe width="750px" height="680px" src="./adventuregame_step_01.html"></iframe>
<a href="ag/step_01/./adventuregame_step_01.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-player"><a class="header" href="#the-player">The Player</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/cam1jKG1hOY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Draw a sprite for the player.</p>
<img src="ag/step_02/./player_sprite.png"/>
<p>Click on the <strong>+</strong> in the code editor to creat tab <strong>2</strong>. This will be used for the code related to the player.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c13t">-- player code</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">make</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">p</span><span class="c07t">={}</span>
</div>
<div> <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">=</span><span class="c12t">3</span>
</div>
<div> <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div> <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">sprite</span><span class="c07t">=</span><span class="c12t">1</span>
</div>
<div> <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">keys</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">spr</span><span class="c07t">(</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">sprite</span><span class="c07t">,</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">,</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Call these functions from the <code>game loop</code> tab (tab <strong>0</strong>).</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c13t">--game loop</span>
</div>
<div class="lea">
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div class="lea"> <span class="c06t">map</span><span class="c07t">_</span><span class="c06t">setup</span><span class="c07t">()</span>
</div>
<div class="add"> <span class="c06t">make</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div class="lea">
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
<div class="lea">
</div>
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea"> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea"> <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div class="add"> <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="end-result-1"><a class="header" href="#end-result-1">End Result</a></h2>
<p>Save your changes with <strong>ctrl+s</strong>. Run them with <strong>ctrl+r</strong>. You should see your
player displayed on the map. The player cannot move around yet. We'll add some
movement to the player in the next section.</p>
<iframe width="750px" height="680px" src="./adventuregame_step_02.html"></iframe>
<a href="ag/step_02/./adventuregame_step_02.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="movement"><a class="header" href="#movement">Movement</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/T9z6RPvyypE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Create a sound effect for bumping into an obstacle.</p>
<p>Do this by going to the sound editor. Change the settings of the sounds to
match those you see in the screenshot. Press <code>space</code> to play your sound to test
it out.</p>
<img src="ag/step_03/./sound_bump.png" style="min_width: 400px; max-width: 800px"/>
<p>Add two functions <code>is_tile</code> and <code>can_move</code> to the <code>map code</code> tab (<strong>tab 1</strong>).</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">tile</span><span class="c07t">_</span><span class="c06t">type</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">tile</span><span class="c07t">=</span><span class="c11t">mget</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">has</span><span class="c07t">_</span><span class="c06t">flag</span><span class="c07t">=</span><span class="c06t">fget</span><span class="c07t">(</span><span class="c06t">tile</span><span class="c07t">,</span><span class="c06t">tile</span><span class="c07t">_</span><span class="c06t">type</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">return </span><span class="c06t">has</span><span class="c07t">_</span><span class="c06t">flag</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">can</span><span class="c07t">_</span><span class="c06t">move</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">return not </span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">wall</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Add a function for moving the player to the <code>player code</code> tab (<strong>tab 2</strong>).</p>
<p><em>Note:</em> to get the arrow characters, use <strong>shift+L</strong>, <strong>shift+R</strong>, <strong>shift+U</strong>, <strong>shift+D</strong>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">move</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">newx</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">x</span>
</div>
<div> <span class="c06t">newy</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">y</span>
</div>
<div>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">L</span><span class="c07t">)) </span><span class="c06t">newx</span><span class="c07t">-=</span><span class="c12t">1</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">R</span><span class="c07t">)) </span><span class="c06t">newx</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">U</span><span class="c07t">)) </span><span class="c06t">newy</span><span class="c07t">-=</span><span class="c12t">1</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">D</span><span class="c07t">)) </span><span class="c06t">newy</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div>
</div>
<div> <span class="c14t">if </span><span class="c06t">can</span><span class="c07t">_</span><span class="c06t">move</span><span class="c07t">(</span><span class="c06t">newx</span><span class="c07t">,</span><span class="c06t">newy</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">=</span><span class="c11t">mid</span><span class="c07t">(</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">newx</span><span class="c07t">,</span><span class="c12t">127</span><span class="c07t">)</span>
</div>
<div>  <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">=</span><span class="c11t">mid</span><span class="c07t">(</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">newy</span><span class="c07t">,</span><span class="c12t">63</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">else</span>
</div>
<div>  <span class="c06t">sfx</span><span class="c07t">(</span><span class="c12t">0</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Call this function from function update in the <code>game loop</code> tab (<strong>tab 0</strong>).</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="add"> <span class="c06t">move</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="end-result-2"><a class="header" href="#end-result-2">End Result</a></h2>
<p>Save your changes with <strong>ctrl+s</strong>. Run them with <strong>ctrl+r</strong>. You should now be able
to move your player around the screen, but once you go off of the screen, you are
no longer able to see them. In the next section, we will make the camera follow
the player so we can explore more of the map.</p>
<iframe width="750px" height="680px" src="./adventuregame_step_03.html"></iframe>
<a href="ag/step_03/./adventuregame_step_03.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="camera"><a class="header" href="#camera">Camera</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/DE-J_n-Y-cU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Have the camera follow the player around the map.</p>
<p>Add code to set the camera to the <code>draw_map</code> function in the <code>map code</code> tab (<strong>tab 1</strong>).</p>
<ul>
<li>divide the player's x and y coordinates by 16</li>
<li>round down</li>
<li>multiply by 16</li>
<li>convert mapx, mapy to a pixel coordinate by multiplying by 8</li>
</ul>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div class="add"> <span class="c06t">mapx</span><span class="c07t">=</span><span class="c11t">flr</span><span class="c07t">(</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">/</span><span class="c12t">16</span><span class="c07t">)*</span><span class="c12t">16</span>
</div>
<div class="add"> <span class="c06t">mapy</span><span class="c07t">=</span><span class="c11t">flr</span><span class="c07t">(</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">/</span><span class="c12t">16</span><span class="c07t">)*</span><span class="c12t">16</span>
</div>
<div class="add"> <span class="c06t">camera</span><span class="c07t">(</span><span class="c06t">mapx</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">,</span><span class="c06t">mapy</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">)</span>
</div>
<div class="add">
</div>
<div class="lea"> <span class="c06t">map</span><span class="c07t">(</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">,</span><span class="c12t">128</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">)</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="end-result-3"><a class="header" href="#end-result-3">End Result</a></h2>
<p>Save your changes with <strong>ctrl+S</strong>. Run them with <strong>ctrl+R</strong>. The camera should now
follow your character from screen to screen. Wondering a world without being able
to interact with it isn't all that interesting so lets add some things the player
can pick up in the next section.</p>
<iframe width="750px" height="680px" src="./adventuregame_step_04.html"></iframe>
<a href="ag/step_04/./adventuregame_step_04.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="keys"><a class="header" href="#keys">Keys</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8RXnQYXufB8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>We are going to add items for our player to interact with in our world. One
will be a key they can pick up. The other will be a chest they can open.</p>
<p>You will need to draw two sprites for each of them.</p>
<p>For the key, the first will be what the key looks like when it can be picked
up. The second will be what the tile should look like after the key has been
picked up. In the example, it looks just like the grass tile.</p>
<p>You may ask, why not just reuse the grass tile? Why draw a duplicate? The
reason is that it greatly simplifies the code we have to write to handle
picking up keys.</p>
<p>Whenever the player interacts with a key tile in our world, we will simply
replace the sprite that received the interaction with the sprite immediately to
the right of it in the sprite sheet.</p>
<p>This means that it is <strong>very</strong> important that the tile without the key be
immediately to the right of the tile with the key!</p>
<p>Go ahead a draw the two key sprites now. You will want to set sprite flag 1 on
the key (but not the tile without the key). Sprite flag 1 is what we use to
determine if the player can interact with a tile.</p>
<p><img src="ag/step_05/./key.png" alt="Key" /></p>
<p><img src="ag/step_05/./key_picked_up.png" alt="Picked Up Key" /></p>
<p>For the chest, we need a sprite showing a closed chest and one showing an open
one. The closed chest needs to have sprite flag 1 set on it.</p>
<p>Just as with the key sprites, it is <strong>very</strong> important that the closed chest
sprite be immediately to the right of the open chest sprite.</p>
<p><img src="ag/step_05/./chest.png" alt="Chest" /></p>
<p><img src="ag/step_05/./chest_opened.png" alt="Chest Opened" /></p>
<p>Make a sound effect for the pick-up key sound.</p>
<p>Go to the sound editor. Switch from sound <code>00</code> to sound <code>01</code>. Try replicating
what is shown in the screenshot or feel free to make up your own sound.</p>
<p><img src="ag/step_05/./pick_up_sound.png" alt="Pick Up Sound" /></p>
<p>Now we need to add the code that allows the player to pick up keys. Interacting
with either the key on the ground or the chest will give the player a key.</p>
<p>Add two functions, <code>swap_tile</code> and <code>get_key</code>, to the <code>map code</code> tab (<strong>tab 1</strong>).</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">swap</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">tile</span><span class="c07t">=</span><span class="c11t">mget</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c11t">mset</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">,</span><span class="c06t">tile</span><span class="c07t">+</span><span class="c12t">1</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">get</span><span class="c07t">_</span><span class="c06t">key</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">keys</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div> <span class="c06t">swap</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">sfx</span><span class="c07t">(</span><span class="c12t">1</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>The <code>swap_tile</code> function replaces the current tile with the tile immediately to
the right of it in the sprite sheet. This is why we had to draw the key and
chest variants where we did.</p>
<p>The <code>get_key</code> function increases the count of the keys the player is carrying
by one, swaps the tile to show that the player successfully interacted with the
tile, and plays a sound to give an audible indication of the action.</p>
<p>Just adding these two functions changes nothing in our code. We have to call
one of them from somewhere.</p>
<p>Add a function called <code>interact</code> to the <code>player code</code> tab (<strong>tab 2</strong>).</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">interact</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">key</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">get</span><span class="c07t">_</span><span class="c06t">key</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>This function checks to see if the tile is a key tile. If it is, it calls the
<code>get_key</code> function to pick up the key.</p>
<p>Now call this function from the <code>move_player</code> function.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c06t">move</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div class="lea"> <span class="c06t">newx</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">x</span>
</div>
<div class="lea"> <span class="c06t">newy</span><span class="c07t">=</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">y</span>
</div>
<div class="lea">
</div>
<div class="lea"> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">L</span><span class="c07t">)) </span><span class="c06t">newx</span><span class="c07t">-=</span><span class="c12t">1</span>
</div>
<div class="lea"> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">R</span><span class="c07t">)) </span><span class="c06t">newx</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div class="lea"> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">U</span><span class="c07t">)) </span><span class="c06t">newy</span><span class="c07t">-=</span><span class="c12t">1</span>
</div>
<div class="lea"> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">D</span><span class="c07t">)) </span><span class="c06t">newy</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div class="lea">
</div>
<div class="del"> <span class="c14t">if </span><span class="c06t">can</span><span class="c07t">_</span><span class="c06t">move</span><span class="c07t">(</span><span class="c06t">newx</span><span class="c07t">,</span><span class="c06t">newy</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div class="del">  <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">=</span><span class="c11t">mid</span><span class="c07t">(</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">newx</span><span class="c07t">,</span><span class="c12t">127</span><span class="c07t">)</span>
</div>
<div class="del">  <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">=</span><span class="c11t">mid</span><span class="c07t">(</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">newy</span><span class="c07t">,</span><span class="c12t">63</span><span class="c07t">)</span>
</div>
<div class="del"> <span class="c14t">else</span>
</div>
<div class="del">  <span class="c06t">sfx</span><span class="c07t">(</span><span class="c12t">0</span><span class="c07t">)</span>
</div>
<div class="del"> <span class="c14t">end</span>
</div>
<div class="add"> <span class="c06t">interact</span><span class="c07t">(</span><span class="c06t">newx</span><span class="c07t">,</span><span class="c06t">newy</span><span class="c07t">)</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="end-result-4"><a class="header" href="#end-result-4">End Result</a></h2>
<p>Save your changes with <strong>ctrl+S</strong>. Run them with <strong>ctrl+R</strong>. You should now be
able to have your character pick up keys, but you will not be able to see how
many keys your character is holding. We will fix that in the next section.</p>
<iframe width="750px" height="680px" src="./adventuregame_step_05.html"></iframe>
<a href="ag/step_05/./adventuregame_step_05.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inventory"><a class="header" href="#inventory">Inventory</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ZF8exnHMQRw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>When the player holds down the <code>X</code> key we'll show how many keys the player has
in their inventory.</p>
<p>Create a new tab for <code>inventory code</code>. It should be <strong>tab 3</strong>. Add a function
called <code>show_inventory</code> to it.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c13t">-- inventory code</span>
</div>
<div><span class="c14t">function </span><span class="c06t">show</span><span class="c07t">_</span><span class="c06t">inventory</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">invx</span><span class="c07t">=</span><span class="c06t">mapx</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">+</span><span class="c12t">40</span>
</div>
<div> <span class="c06t">invy</span><span class="c07t">=</span><span class="c06t">mapy</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">+</span><span class="c12t">8</span>
</div>
<div>
</div>
<div> <span class="c11t">rectfill</span><span class="c07t">(</span><span class="c06t">invx</span><span class="c07t">,</span><span class="c06t">invy</span><span class="c07t">,</span><span class="c06t">invx</span><span class="c07t">+</span><span class="c12t">48</span><span class="c07t">,</span><span class="c06t">invy</span><span class="c07t">+</span><span class="c12t">24</span><span class="c07t">,</span><span class="c12t">0</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">print</span><span class="c07t">(</span><span class="c12t">"inventory"</span><span class="c07t">,</span><span class="c06t">invx</span><span class="c07t">+</span><span class="c12t">7</span><span class="c07t">,</span><span class="c06t">invy</span><span class="c07t">+</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">7</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">print</span><span class="c07t">(</span><span class="c12t">"keys "</span><span class="c07t">..</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">keys</span><span class="c07t">,</span><span class="c06t">invx</span><span class="c07t">+</span><span class="c12t">12</span><span class="c07t">,</span><span class="c06t">invy</span><span class="c07t">+</span><span class="c12t">14</span><span class="c07t">,</span><span class="c12t">9</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Then call this function from the <code>_draw</code> function in the <code>game loop</code> tab (<strong>tab 0</strong>).
.
You can use <strong>shift-x</strong> to get the <code>X</code> glyph.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div class="lea"> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div class="lea"> <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div class="lea"> <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div class="add"> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">X</span><span class="c07t">)) </span><span class="c06t">show</span><span class="c07t">_</span><span class="c06t">inventory</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="end-result-5"><a class="header" href="#end-result-5">End Result</a></h2>
<p>Save your changes with <strong>ctrl+S</strong>. Run them with <strong>ctrl+R</strong>. You should now be able
to pick up a key and then press <code>X</code> to see how many keys the player has in their
inventory. Next, lets add a way for the player to use the keys they collect.</p>
<iframe width="750px" height="680px" src="./adventuregame_step_06.html"></iframe>
<a href="ag/step_06/./adventuregame_step_06.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="doors"><a class="header" href="#doors">Doors</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/9EiXQxfK05I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>What good are keys if you cannot do anything with them?</p>
<p>Let's fix this by adding doors that the player can open with their keys. First draw a pair of sprites: an closed and an opened door. Just like with the key and chest sprites, be sure to put them right next to each other. This allows us to use the <code>swap_tile</code> function to open a door.</p>
<p><img src="ag/step_07/./door_closed.png" alt="Closed Door" /></p>
<p><img src="ag/step_07/./door_opened.png" alt="Opened Door" /></p>
<p>Add a sound effect for opening a door. This should be sound <code>02</code>. Replicate
what is in the screenshot or create your own custom door opening sound.</p>
<p><img src="ag/step_07/./open_door_sound.png" alt="Open Door Sound" /></p>
<p>Add a function <code>open_door</code> to open the door to the <code>map code</code> tab (<strong>tab 1</strong>).</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">open</span><span class="c07t">_</span><span class="c06t">door</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">keys</span><span class="c07t">-=</span><span class="c12t">1</span>
</div>
<div> <span class="c06t">swap</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">sfx</span><span class="c07t">(</span><span class="c12t">2</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>This function gets called in the <code>interact</code> function, which is in the <code>player code</code> tab (<strong>tab 2</strong>)..</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c06t">interact</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div class="lea"> <span class="c14t">if </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">key</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)) </span><span class="c14t">then</span>
</div>
<div class="lea">  <span class="c06t">get</span><span class="c07t">_</span><span class="c06t">key</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div class="add"> <span class="c14t">elseif </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">door</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">) </span><span class="c14t">and </span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">keys</span><span class="c07t">></span><span class="c12t">0</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div class="add">  <span class="c06t">open</span><span class="c07t">_</span><span class="c06t">door</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div class="lea"> <span class="c14t">end</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="end-result-6"><a class="header" href="#end-result-6">End Result</a></h2>
<p>Save your changes with <strong>ctrl+S</strong>. Run them with <strong>ctrl+R</strong>. You should now be
able to pick up a key and use it to unlock a door.</p>
<iframe width="750px" height="680px" src="./adventuregame_step_07.html"></iframe>
<a href="ag/step_07/./adventuregame_step_07.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="animate-tiles"><a class="header" href="#animate-tiles">Animate Tiles</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/MkXeXYPF2pw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>In this step we add animated tiles. Animated tiles bring the map to life. Here we'll use them to make a spike trap that the player has to navigate through.</p>
<p>Create a pair of sprites, one for the spikes up and one with the spikes down. The animation will have cause the two sprites to flip between each other.</p>
<p>The tile with spikes up should have two flags set: <strong>flag 3</strong> (anim1, or step one of the animation) and <strong>flag 6</strong> (lose), which will cause the player to lose if they step on them.</p>
<img src="ag/step_08/./spikes_up.png" style="min-width: 400px; max-width: 800px"/>
<p>The tile with spikes down should have one flag set: <strong>flag 4</strong>, (anim2, step 2 of the animation).</p>
<img src="ag/step_08/./spikes_down.png" style="min-width: 400px; max-width: 800px"/>
<p>Add two variables to the <code>map_setup</code> function in the <code>map code</code> tab (<strong>tab 1</strong>).</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c06t">map</span><span class="c07t">_</span><span class="c06t">setup</span><span class="c07t">()</span>
</div>
<div class="add"> <span class="c13t">--timers</span>
</div>
<div class="add"> <span class="c06t">timer</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div class="add"> <span class="c06t">anim</span><span class="c07t">_</span><span class="c06t">time</span><span class="c07t">=</span><span class="c12t">30 </span><span class="c13t">-- 30 = 1 second</span>
</div>
<div class="lea"> <span class="c13t">--map tile settings</span>
</div>
<div class="lea"> <span class="c06t">wall</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Add a new function <code>unswap_tile</code> to the <code>map code</code> tab (<strong>tab 0</strong>). Note that this function is nearly the same as <code>swap_tile</code> and so you can use copy and paste to create it (select the lines, <strong>ctrl-c</strong> to copy, and <strong>ctrl-v</strong> to paste)..</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">unswap</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">tile</span><span class="c07t">=</span><span class="c11t">mget</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c11t">mset</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">,</span><span class="c06t">tile</span><span class="c07t">-</span><span class="c12t">1</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Add a new tab called <code>animation code</code> (<strong>tab 4</strong>). Add a function named <code>toggle_tiles</code> to this tab.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c13t">--animation code</span>
</div>
<div><span class="c14t">function </span><span class="c06t">toggle</span><span class="c07t">_</span><span class="c06t">tiles</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">for </span><span class="c06t">x</span><span class="c07t">=</span><span class="c06t">mapx</span><span class="c07t">,</span><span class="c06t">mapx</span><span class="c07t">+</span><span class="c12t">15 </span><span class="c14t">do</span>
</div>
<div>  <span class="c14t">for </span><span class="c06t">y</span><span class="c07t">=</span><span class="c06t">mapy</span><span class="c07t">,</span><span class="c06t">mapy</span><span class="c07t">+</span><span class="c12t">15 </span><span class="c14t">do</span>
</div>
<div>   <span class="c14t">if </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">anim1</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)) </span><span class="c14t">then</span>
</div>
<div>    <span class="c06t">swap</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div>    <span class="c06t">sfx</span><span class="c07t">(</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div>   <span class="c14t">elseif </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">anim2</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">))</span><span class="c14t">then</span>
</div>
<div>    <span class="c06t">unswap</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div>    <span class="c06t">sfx</span><span class="c07t">(</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div>   <span class="c14t">end</span>
</div>
<div>  <span class="c14t">end</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Add a new function called <code>update_map</code> to the <code>map code</code> tab (<strong>tab 1</strong>).</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">update</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c06t">timer</span><span class="c07t"><</span><span class="c12t">0</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">toggle</span><span class="c07t">_</span><span class="c06t">tiles</span><span class="c07t">()</span>
</div>
<div>  <span class="c06t">timer</span><span class="c07t">=</span><span class="c06t">anim</span><span class="c07t">_</span><span class="c06t">time</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div> <span class="c06t">timer</span><span class="c07t">-=</span><span class="c12t">1</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Finally, call the <code>update_map</code> function from the <code>_update</code> function in the <code>game loop</code> (<strong>tab 0</strong>).</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div class="lea"><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div class="add"> <span class="c06t">update</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div class="lea"> <span class="c06t">move</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div class="lea"><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="end-result-7"><a class="header" href="#end-result-7">End Result</a></h2>
<p>Save your changes with <strong>ctrl+S</strong>. Run them with <strong>ctrl+R</strong>. Your animated tiles
should change about once every second, but there still isn't a way to win the
game. Lets add that next.</p>
<iframe width="750px" height="680px" src="./adventuregame_step_08.html"></iframe>
<a href="ag/step_08/./adventuregame_step_08.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="winning-and-losing"><a class="header" href="#winning-and-losing">Winning and Losing</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/aKnlApA_42U" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Add a new sprite that the player has to move over to win the game.</p>
<img src="ag/step_09/./target_sprite.png" style="min-width: 400px; max-width: 800px"/>
<p>Set the last flag on this sprite. This is what the game will use to know the player
has won the game.</p>
<p>Add <code>game_win</code> and <code>game_over</code> to <code>_init</code> in the <code>game loop</code> <strong>tab 0</strong>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">map</span><span class="c07t">_</span><span class="c06t">setup</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">make</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div>
</div>
<div> <span class="c06t">game</span><span class="c07t">_</span><span class="c06t">win</span><span class="c07t">=</span><span class="c06t">false</span>
</div>
<div> <span class="c06t">game</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">=</span><span class="c06t">false</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Add a new code tab to hold the win/lose code. This will be <strong>tab 5</strong>.</p>
<p>In this tab, add two new functions: <code>check_win_lose</code>, <code>draw_win_lose</code></p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c13t">-- win/lose code</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">check</span><span class="c07t">_</span><span class="c06t">win</span><span class="c07t">_</span><span class="c06t">lose</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">win</span><span class="c07t">,</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">)) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">game</span><span class="c07t">_</span><span class="c06t">win</span><span class="c07t">=</span><span class="c06t">true</span>
</div>
<div>  <span class="c06t">game</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">=</span><span class="c06t">true</span>
</div>
<div> <span class="c14t">elseif </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">lose</span><span class="c07t">,</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">)) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">game</span><span class="c07t">_</span><span class="c06t">win</span><span class="c07t">=</span><span class="c06t">false</span>
</div>
<div>  <span class="c06t">game</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">=</span><span class="c06t">true</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">win</span><span class="c07t">_</span><span class="c06t">lose</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">camera</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c06t">game</span><span class="c07t">_</span><span class="c06t">win</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">print</span><span class="c07t">(</span><span class="c12t">"S you win! S"</span><span class="c07t">,</span><span class="c12t">37</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">,</span><span class="c12t">7</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">else</span>
</div>
<div>  <span class="c06t">print</span><span class="c07t">(</span><span class="c12t">"game over!"</span><span class="c07t">,</span><span class="c12t">38</span><span class="c07t">,</span><span class="c12t">64</span><span class="c07t">,</span><span class="c12t">7</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Change <code>_update</code> to only run if not <code>game_over</code> and call <code>check_win_lose</code></p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">update</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">move</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c14t">not </span><span class="c06t">game</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">update</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div>  <span class="c06t">move</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div>  <span class="c06t">check</span><span class="c07t">_</span><span class="c06t">win</span><span class="c07t">_</span><span class="c06t">lose</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Change <code>_draw</code> to only draw if not <code>game_over</code> else <code>draw_win_lose</code></p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">X</span><span class="c07t">)) </span><span class="c06t">show</span><span class="c07t">_</span><span class="c06t">inventory</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c14t">not </span><span class="c06t">game</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div>  <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div>  <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">X</span><span class="c07t">)) </span><span class="c06t">show</span><span class="c07t">_</span><span class="c06t">inventory</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">else</span>
</div>
<div>  <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">win</span><span class="c07t">_</span><span class="c06t">lose</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="end-result-8"><a class="header" href="#end-result-8">End Result</a></h2>
<p>Save your changes with <strong>ctrl+S</strong>. Run them with <strong>ctrl+R</strong>. You should now be able
to walk into spikes to lose and walk into the target to win. Next, we will add a way
to easily reset the game.</p>
<iframe width="750px" height="680px" src="./adventuregame_step_09.html"></iframe>
<a href="ag/step_09/./adventuregame_step_09.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="trying-again"><a class="header" href="#trying-again">Trying Again</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/2UDThoTpxOY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Add a way for the player to restart the game when they win or lose.</p>
<p>Add the following else condition to the <code>_update</code> function.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">else</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">X</span><span class="c07t">)) </span><span class="c06t">extcmd</span><span class="c07t">(</span><span class="c12t">"reset"</span><span class="c07t">)</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Add the following code to the <code>draw_win_lose</code> function</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">print</span><span class="c07t">(</span><span class="c12t">"press X to play again"</span><span class="c07t">,</span><span class="c12t">20</span><span class="c07t">,</span><span class="c12t">72</span><span class="c07t">,</span><span class="c12t">5</span><span class="c07t">)</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<h2 id="end-result-9"><a class="header" href="#end-result-9">End Result</a></h2>
<p>Save your changes with <strong>ctrl+S</strong>. Run them with <strong>ctrl+R</strong>. You should now be able
to have reset the game after winning or losing.</p>
<p>Congratualations! This marks the point where you have a fully functional game!</p>
<p>You have an interactive world with a goal, obstacles to achieving that goal, the
ability for the player to win or lose, and the ability to reset the game after
a game over event.</p>
<p>Next, we will add text to the world to enable you to provide the player more
guidance on what to do in the game.</p>
<iframe width="750px" height="680px" src="./adventuregame_step_10.html"></iframe>
<a href="ag/step_10/./adventuregame_step_10.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bonus-step-adding-text"><a class="header" href="#bonus-step-adding-text">Bonus Step: Adding Text</a></h1>
<p>This step will be a bit more involved than the previous steps. If you have
made it to this step, you will definitely be able to complete it. Just take
it slow and don't rush.</p>
<p>Create a sign sprite.</p>
<p><img src="ag/step_11/./sign.png" alt="Sign" /></p>
<p>Place two of them. If you don't place them at x=1,y=3 and x=7,y=3 you will need to update the code to reflect where the signs are placed in your world.</p>
<p><img src="ag/step_11/./sign1.png" alt="Sign1" /></p>
<p><img src="ag/step_11/./sign2.png" alt="Sign2" /></p>
<p>Add <code>text=5</code> to the <code>tile settings</code> in <code>map_setup</code>.  We are going to use this
to trigger the display of text to the user.</p>
<p><img src="ag/step_11/./text_flag.png" alt="Text Flag" /></p>
<p>Now, let's add some code to make use of this tile type.</p>
<p>In tab <code>0</code>, add a call to <code>text_setup</code></p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">map</span><span class="c07t">_</span><span class="c06t">setup</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">text</span><span class="c07t">_</span><span class="c06t">setup</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">make</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div> 
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Modify the <code>_update</code> call to only update the game state if there is no active text displayed.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c14t">not </span><span class="c06t">game</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>  <span class="c14t">if </span><span class="c07t">(</span><span class="c14t">not </span><span class="c06t">active</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>   <span class="c06t">update</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div>   <span class="c06t">move</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div>   <span class="c06t">check</span><span class="c07t">_</span><span class="c06t">win</span><span class="c07t">_</span><span class="c06t">lose</span><span class="c07t">()</span>
</div>
<div>  <span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>In <code>_draw</code>, call <code>draw_text</code> after drawing the map and the player.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c14t">not </span><span class="c06t">game</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">map</span><span class="c07t">()</span>
</div>
<div>  <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">player</span><span class="c07t">()</span>
</div>
<div>  <span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">()</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>In the player interaction code, tab <code>2</code>, add a check for the text tile type.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">interact</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">text</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">active</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">=</span><span class="c06t">get</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Add a new tab. This will be tab <code>6</code>. We will put the text related code here.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c13t">--text code</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">text</span><span class="c07t">_</span><span class="c06t">setup</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">texts</span><span class="c07t">={}</span>
</div>
<div> <span class="c06t">add</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">(</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">,</span><span class="c12t">"first sign!"</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">add</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">(</span><span class="c12t">7</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">,</span><span class="c12t">"oh, look!\na sign!"</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">add</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">,</span><span class="c06t">message</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">texts</span><span class="c07t">[</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">y</span><span class="c07t">*</span><span class="c12t">128</span><span class="c07t">]=</span><span class="c06t">message</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">get</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">return </span><span class="c06t">texts</span><span class="c07t">[</span><span class="c06t">x</span><span class="c07t">+</span><span class="c06t">y</span><span class="c07t">*</span><span class="c12t">128</span><span class="c07t">]</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c06t">active</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">textx</span><span class="c07t">=</span><span class="c06t">mapx</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">+</span><span class="c12t">4</span>
</div>
<div>  <span class="c06t">texty</span><span class="c07t">=</span><span class="c06t">mapy</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">+</span><span class="c12t">48</span>
</div>
<div>  
</div>
<div>  <span class="c11t">rectfill</span><span class="c07t">(</span><span class="c06t">textx</span><span class="c07t">,</span><span class="c06t">texty</span><span class="c07t">,</span><span class="c06t">textx</span><span class="c07t">+</span><span class="c12t">119</span><span class="c07t">,</span><span class="c06t">texty</span><span class="c07t">+</span><span class="c12t">31</span><span class="c07t">,</span><span class="c12t">7</span><span class="c07t">)</span>
</div>
<div>  <span class="c06t">print</span><span class="c07t">(</span><span class="c06t">active</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">,</span><span class="c06t">textx</span><span class="c07t">+</span><span class="c12t">4</span><span class="c07t">,</span><span class="c06t">texty</span><span class="c07t">+</span><span class="c12t">4</span><span class="c07t">,</span><span class="c12t">1</span><span class="c07t">)</span>
</div>
<div>  <span class="c06t">print</span><span class="c07t">(</span><span class="c12t">"_ to close"</span><span class="c07t">,</span><span class="c06t">textx</span><span class="c07t">+</span><span class="c12t">4</span><span class="c07t">,</span><span class="c06t">texty</span><span class="c07t">+</span><span class="c12t">23</span><span class="c07t">,</span><span class="c12t">6</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div> 
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c11t">btnp</span><span class="c07t">(_)) </span><span class="c06t">active</span><span class="c07t">_</span><span class="c06t">text</span><span class="c07t">=</span><span class="c06t">nil</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Save your game and run it. With any luck, you should be able to walk up to and read each sign.</p>
<p><img src="ag/step_11/./sign1_shown.png" alt="Sign1 Shown" /></p>
<p><img src="ag/step_11/./sign2_shown.png" alt="Sign2 Shown" /></p>
<p>This opens up a world of possibilities. It allows to add Non-Player Characters
(NPCs) that can speak with your character. Signs can provide instructions or
warnings. You are able to tell your character's back story through dialog or notes or other narrative devices.</p>
<h1 id="result"><a class="header" href="#result">Result</a></h1>
<iframe width="750px" height="680px" src="./adventuregame_bonus_step_text.html"></iframe>
<a href="ag/step_11/./adventuregame_bonus_step_text.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bonus-step-unlimited-sprite-types"><a class="header" href="#bonus-step-unlimited-sprite-types">Bonus Step: Unlimited Sprite Types</a></h1>
<p>We have been using sprite flags to differentiate between the different sprite
types. This limits us to a maximum of 8 sprite types.</p>
<p>To overcome this limitation and support an unlimited number of sprite types,
we are going to switch from using sprite flags to explicitly enumerating all
of the sprites of each type.</p>
<p>In <code>map_setup</code>, we currently have this mapping of sprite types to their flags.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">wall</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div><span class="c06t">key</span><span class="c07t">=</span><span class="c12t">1</span>
</div>
<div><span class="c06t">door</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div><span class="c06t">anim1</span><span class="c07t">=</span><span class="c12t">3</span>
</div>
<div><span class="c06t">anim2</span><span class="c07t">=</span><span class="c12t">4</span>
</div>
<div><span class="c06t">lose</span><span class="c07t">=</span><span class="c12t">6</span>
</div>
<div><span class="c06t">win</span><span class="c07t">=</span><span class="c12t">7</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Change each of these to be a list of all of the sprite numbers for each sprite
of that type. If you very closely followed along to this point, you should be
able to copy these values. If you were more casual in where you placed each
sprite type, your numbers will be different. Check each of these values against
your setup.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">wall</span><span class="c07t">={</span><span class="c12t">18</span><span class="c07t">,</span><span class="c12t">32</span><span class="c07t">,</span><span class="c12t">33</span><span class="c07t">,</span><span class="c12t">34</span><span class="c07t">,</span><span class="c12t">36</span><span class="c07t">,</span><span class="c12t">37</span><span class="c07t">,</span><span class="c12t">50</span><span class="c07t">,</span><span class="c12t">52</span><span class="c07t">}</span>
</div>
<div><span class="c06t">key</span><span class="c07t">={</span><span class="c12t">20</span><span class="c07t">,</span><span class="c12t">36</span><span class="c07t">}</span>
</div>
<div><span class="c06t">door</span><span class="c07t">={</span><span class="c12t">52</span><span class="c07t">}</span>
</div>
<div><span class="c06t">anim1</span><span class="c07t">={</span><span class="c12t">23</span><span class="c07t">}</span>
</div>
<div><span class="c06t">anim2</span><span class="c07t">={</span><span class="c12t">24</span><span class="c07t">}</span>
</div>
<div><span class="c06t">lose</span><span class="c07t">={</span><span class="c12t">23</span><span class="c07t">}</span>
</div>
<div><span class="c06t">win</span><span class="c07t">={</span><span class="c12t">7</span><span class="c07t">}</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Replace the call to <code>fget</code> in <code>is_tile</code> in tab <code>1</code> with this:</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">for </span><span class="c06t">i</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,#</span><span class="c06t">tile</span><span class="c07t">_</span><span class="c06t">type </span><span class="c14t">do</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c06t">tile </span><span class="c07t">== </span><span class="c06t">tile</span><span class="c07t">_</span><span class="c06t">type</span><span class="c07t">[</span><span class="c06t">i</span><span class="c07t">]) </span><span class="c14t">return </span><span class="c06t">true</span>
</div>
<div><span class="c14t">end</span>
</div>
<div><span class="c14t">return </span><span class="c06t">false</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Once you have made these changes, hit <code>ctrl-s</code> to save your game and <code>ctrl-r</code>
to run it.</p>
<p>You will want to test to verify that all of the sprite types work. That means
you will want to:</p>
<ul>
<li>Attempt to walk into all wall tile types (e.g. water, wall)</li>
<li>Pick up all key tile types (e.g. the key and the chest)</li>
<li>Step on all spike tile types</li>
<li>Walk on all non-wall types (e.g. grass, stone)</li>
</ul>
<p>If a tile isn't behaving as you expect, double check that the number for the
sprite is in the correct list in <code>map_setup</code>.</p>
<h1 id="new-tile-type"><a class="header" href="#new-tile-type">New Tile Type</a></h1>
<p>Once you have verified all sprite types work, lets make use of the added
flexibility by adding a new sprite type.</p>
<p>We are going to change the chest so it gives us gold instead of a key. Modify
<code>map_setup</code>. Remove sprite <code>36</code> (the chest) from the key list.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">key</span><span class="c07t">={</span><span class="c12t">20</span><span class="c07t">}</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>and add it to a newly created <code>gold</code> list.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">gold</span><span class="c07t">={</span><span class="c12t">36</span><span class="c07t">}</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Picking up gold does us no good, if we don't keep track of it. Lets modify
<code>make_player</code> in tab <code>2</code>. Put this at the end of the function.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">gold</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>With a place to store it, we can add a function to allow us to get it. Copy
<code>get_key</code> in tab <code>1</code> and modify it to create <code>get_gold</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">get</span><span class="c07t">_</span><span class="c06t">gold</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">p</span><span class="c07t">.</span><span class="c06t">gold</span><span class="c07t">+=</span><span class="c12t">5</span>
</div>
<div> <span class="c06t">swap</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">sfx</span><span class="c07t">(</span><span class="c12t">1</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">interact</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">if </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">key</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">get</span><span class="c07t">_</span><span class="c06t">key</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">elseif </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">door</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">) </span><span class="c14t">and</span><span class="c07t">...</span>
</div>
<div>  <span class="c06t">open</span><span class="c07t">_</span><span class="c06t">door</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">elseif </span><span class="c07t">(</span><span class="c06t">is</span><span class="c07t">_</span><span class="c06t">tile</span><span class="c07t">(</span><span class="c06t">gold</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">))</span>
</div>
<div>  <span class="c06t">get</span><span class="c07t">_</span><span class="c06t">gold</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Now we just need to update <code>show_inventory</code> in tab <code>3</code> to show the player how
much gold they have. Start by making the rectangle <code>6</code> pixels taller by changing
<code>invy+24</code> to <code>invy+30</code>. Then add this line to the end of the function.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">print</span><span class="c07t">(</span><span class="c12t">"gold "</span><span class="c07t">, .</span><span class="c06t">p</span><span class="c07t">.</span><span class="c06t">gold</span><span class="c07t">,</span><span class="c06t">invx</span><span class="c07t">+</span><span class="c12t">12</span><span class="c07t">, </span><span class="c06t">invy</span><span class="c07t">+</span><span class="c12t">20</span><span class="c07t">,</span><span class="c12t">9</span><span class="c07t">)</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Save and run the game. The gold in the player's inventory should start out at
<code>0</code>. Open the chest and show the inventory. It should show <code>5</code> gold.</p>
<p>If you made it to this point, congratulations! You now have the ability to add
an unlimited number of sprite types. Here are just a few of the possibilities:</p>
<ul>
<li>Chests that hold specific items</li>
<li>Chests that hold a variable amount of gold</li>
<li>Keys that only open certain chests or doors</li>
<li>Items needed to complete quests</li>
<li>etc</li>
</ul>
<h1 id="result-1"><a class="header" href="#result-1">Result</a></h1>
<iframe width="750px" height="680px" src="./adventuregame_bonus_step_more_tiles.html"></iframe>
<a href="ag/step_12/./adventuregame_bonus_step_more_tiles.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="a-space-shooter-in-16-steps"><a class="header" href="#a-space-shooter-in-16-steps">A Space Shooter in 16 Steps</a></h1>
<p><a href="https://ztiromoritz.github.io/pico-8-shooter/">This is a fun take</a> on a tutorial format. It shows how to make a spaceshooter, but instead of creating videos or a written tutorial, it uses a series of 16 animated images.</p>
<p>Local versions of the origianl images are inlined below. Each of the nested sections is devoted to a single image. The image is dispalyed at the top of each page. If you want to pause or otherwise control the playback, press the play button to switch to playing a video version of the same content.</p>
<p>If all of that sounds like too much work, there are written instructions on each page so you don't have to mess around with the vidoes, if you don't want to.</p>
<p><img src="ss/intro/../step_01/tut_1.gif" alt="..." />
<img src="ss/intro/../step_02/tut_2.gif" alt="..." />
<img src="ss/intro/../step_03/tut_3.gif" alt="..." />
<img src="ss/intro/../step_04/tut_4.gif" alt="..." />
<img src="ss/intro/../step_05/tut_5.gif" alt="..." />
<img src="ss/intro/../step_06/tut_6.gif" alt="..." />
<img src="ss/intro/../step_07/tut_7.gif" alt="..." />
<img src="ss/intro/../step_08/tut_8.gif" alt="..." />
<img src="ss/intro/../step_09/tut_9.gif" alt="..." />
<img src="ss/intro/../step_10/tut_10.gif" alt="..." />
<img src="ss/intro/../step_11/tut_11.gif" alt="..." />
<img src="ss/intro/../step_12/tut_12.gif" alt="..." />
<img src="ss/intro/../step_13/tut_13.gif" alt="..." />
<img src="ss/intro/../step_14/tut_14.gif" alt="..." />
<img src="ss/intro/../step_15/tut_15.gif" alt="..." />
<img src="ss/intro/../step_16/tut_16.gif" alt="..." /></p>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="01-draw-ship-on-screen"><a class="header" href="#01-draw-ship-on-screen">01. Draw ship on screen</a></h1>
<video controls width="512" poster="./tut_1.gif">
    <source src="./tut_1.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_01/./tut_1.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_1.gif">Original Source</a>)</p>
<p>Let's start by creating a ship sprite in the sprite editor.</p>
<div><img src="ss/step_01/./ship.png" width="512"/></div>
<p>Go to the code editor and enter this code in tab <strong>0</strong>.</p>
<p>Now let's draw the ship on the screen!</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">ship</span><span class="c07t">={</span><span class="c06t">x</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">}</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">spr</span><span class="c07t">(</span><span class="c12t">1</span><span class="c07t">,</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>The <code>_init</code> function creates a table to hold properies for the ship. We will
start with its <code>x</code> and <code>y</code> coordinates. This is how we will know where to draw
the ship on the screen.</p>
<p>The <code>_draw</code> function displays sprite <code>1</code> on the screen at the <code>x</code> and <code>y</code>
coordinates in the <code>ship</code> table. <strong>Note:</strong> if your ship is not in the sprite
sheet at location <code>001</code> (as shown in the screenshot above), you will need to
change the first parameter to <code>spr</code> to match.</p>
<h2 id="end-result-10"><a class="header" href="#end-result-10">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_01.html"></iframe>
<a href="ss/step_01/./ss_01.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="02-animate-propulsion"><a class="header" href="#02-animate-propulsion">02. Animate Propulsion</a></h1>
<video controls width="512" poster="./tut_2.gif">
    <source src="./tut_2.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_02/./tut_2.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_2.gif">Original Source</a>)</p>
<p>In this step, we will create a ship propulsion animation.</p>
<p>Start by modifying the ship we drew in the last step.</p>
<p><strong>Tip:</strong> Press up to shift the ship up a pixel. This will give you the space
you need to add the jetstream pixel without having to redraw the ship!</p>
<!--
Not sure why these img tags need to be wrapped in divs.
They don't render otherwise...
-->
<div><img src="ss/step_02/modified_ship.png" width=512" /></div>
<p>Now create a second ship where the jetstream pixels swap.</p>
<div><img src="ss/step_02/./propulsion.png" width=512" /></div>
<p>Enter this code on tab <strong>0</strong> in the code editor.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">t</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">ship</span><span class="c07t">={</span><span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">}</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">t</span><span class="c07t">=</span><span class="c06t">t</span><span class="c07t">+</span><span class="c12t">1</span>
</div>
<div> <span class="c14t">if</span><span class="c07t">(</span><span class="c06t">t</span><span class="c07t">%</span><span class="c12t">6</span><span class="c07t"><</span><span class="c12t">3</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">1</span>
</div>
<div> <span class="c14t">else</span>
</div>
<div>  <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">2</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">spr</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">sp</span><span class="c07t">,</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Hit <code>ctrl-r</code> to run the game. A ship will appear with an animated jetstream!</p>
<div><img src="ss/step_02/./anim.gif" width=512" /></div>
<h2 id="end-result-11"><a class="header" href="#end-result-11">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_02.html"></iframe>
<a href="ss/step_02/./ss_02.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="03-basic-ship-movement"><a class="header" href="#03-basic-ship-movement">03. Basic Ship Movement</a></h1>
<video controls width="512" poster="tut_3.gif">
    <source src="./tut_3.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_03/./tut_3.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_3.gif">Original Source</a>)</p>
<p>In this step, we will add code to move the ship around the screen.</p>
<p>At the end of the <code>_update</code> function, add an <code>if</code> statement for each arrow key.</p>
<p><strong>Tip:</strong> After typing the first <code>if</code> statement, hit <code>ctrl-d</code> to duplicate the
first line. Then edit the new line. This will save you some typing.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">if </span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">L</span><span class="c07t">) </span><span class="c14t">then </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">-=</span><span class="c12t">1 </span><span class="c14t">end</span>
</div>
<div><span class="c14t">if </span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">R</span><span class="c07t">) </span><span class="c14t">then </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">+=</span><span class="c12t">1 </span><span class="c14t">end</span>
</div>
<div><span class="c14t">if </span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">U</span><span class="c07t">) </span><span class="c14t">then </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">-=</span><span class="c12t">1 </span><span class="c14t">end</span>
</div>
<div><span class="c14t">if </span><span class="c11t">btn</span><span class="c07t">(</span><span class="c06t">D</span><span class="c07t">) </span><span class="c14t">then </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">+=</span><span class="c12t">1 </span><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>On each frame, <code>_update</code> new checks to see if an arrow key is being held down.
If it is, it changes the pixel coordinate of the ship by <code>1</code> in the appropriate
direction.</p>
<p>Hit <code>ctrl-r</code> to run your cart and try it out!</p>
<h2 id="end-result-12"><a class="header" href="#end-result-12">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_03.html"></iframe>
<a href="ss/step_03/./ss_03.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="04-fire-laser-bullets"><a class="header" href="#04-fire-laser-bullets">04. Fire Laser Bullets</a></h1>
<video controls width="512" poster="tut_4.gif">
    <source src="./tut_4.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_04/./tut_4.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_4.gif">Original Source</a>)</p>
<p>Update <code>_init</code> to have a table to hold information about all of the bullets.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">ship</span><span class="c07t">={</span><span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">}</span>
</div>
<div> <span class="c06t">bullets</span><span class="c07t">={}</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Now add a <code>fire</code> function right after <code>_init</code>. It creates a new bullet and add
it to the bullets table.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">fire</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">local b</span><span class="c07t">={</span>
</div>
<div>  <span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">3</span><span class="c07t">,         </span><span class="c13t">-- which sprite to display for bullets</span>
</div>
<div>  <span class="c06t">x</span><span class="c07t">=</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,     </span><span class="c13t">-- start bullets at the ship's location</span>
</div>
<div>  <span class="c06t">y</span><span class="c07t">=</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">dy</span><span class="c07t">=-</span><span class="c12t">3</span><span class="c07t">,        </span><span class="c13t">-- bullets move up from the ships location</span>
</div>
<div> <span class="c07t">}</span>
</div>
<div> <span class="c06t">add</span><span class="c07t">(</span><span class="c06t">bullets</span><span class="c07t">,</span><span class="c06t">b</span><span class="c07t">) </span><span class="c13t">-- add bullet to the table of bullets</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p><code>sp</code> is the sprite to display. <code>x</code> and <code>y</code> indicate where to display the ship on the screen. <code>dy</code> is how far to move the bullets up the screen on each frame.</p>
<p>Bullets move after being fired. Add the code to do that in <code>_update</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">t</span><span class="c07t">=</span><span class="c06t">t</span><span class="c07t">+</span><span class="c12t">1</span>
</div>
<div>
</div>
<div> <span class="c14t">for </span><span class="c06t">b </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">bullets</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div>  <span class="c06t">b</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">+=</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">dx</span>
</div>
<div>  <span class="c06t">b</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">+=</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">dy</span>
</div>
<div> <span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>We will need a way to trigger the firing of a bullet. Add this <code>if</code> statement at the end of <code>_update</code>. It will cause a bullet to fire if you press <code>X</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">if </span><span class="c11t">btnp</span><span class="c07t">(</span><span class="c06t">X</span><span class="c07t">) </span><span class="c14t">then </span><span class="c06t">fire</span><span class="c07t">() </span><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p><strong>Note:</strong> We use <code>btnp</code> instea of <code>btn</code> to limit the rate of firing. </p>
<p>Let's display the bullets.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">spr</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">sp</span><span class="c07t">,</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">for </span><span class="c06t">b </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">bullets</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div>  <span class="c11t">spr</span><span class="c07t">(</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">sp</span><span class="c07t">,</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Finally, let's actually create the bullet sprite so we have something to draw!</p>
<div><img src="ss/step_04/./bullet.png" width="512"/></div>
<p>Hit <code>ctrl-r</code> to run the game and then press <code>X</code> a few times. You should see something like this.</p>
<div><img src="ss/step_04/./result.png" width="512"/></div>
<p>Don't get carried away and fire too many! The code we wrote in this step has a
<strong>fatal</strong> flaw. It never forgets about any of the bullets that have been fired. As
bullets are fired an ever increasing amount of memory is consumed. It will also
take an ever increasing amount of time to update the position of the bullets
and draw them.  Taken to the extreme, it has the potential to crash the game or
make it unplayable.</p>
<p>This isn't a safe play to remain so we will address this in the next step.</p>
<h2 id="end-result-13"><a class="header" href="#end-result-13">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_04.html"></iframe>
<a href="ss/step_04/./ss_04.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="05-remove-bullets"><a class="header" href="#05-remove-bullets">05. Remove Bullets</a></h1>
<video controls width="512" poster="tut_5.gif">
    <source src="./tut_5.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_05/./tut_5.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_5.gif">Original Source</a>)</p>
<p>The last step ended with a warning about a defect in our game. Defects happen
all the time when we code so it is good idea to learn how to find, reproduce,
and fix them.</p>
<p>Let's imagine that a player of our game reported a bug complaining that the
game was exhibiting unbounded resource consumption. The best bug reports come
with steps to reproduce, but we are not always so lucky.</p>
<p>Without steps to reproduce, the first step is to develop a theory for what
could be leading to the behavior described in the report. In this case, our
game is really simple. We display a single ship, can move it around, and can
repeatedly press a button to fire bullets.</p>
<p>Our game displays itself at 30 frames per second. It is theoretically possible
that something in the display logic has a memory leak, but such a defect would
most likely be showing up in other games. As a general rule of thumb, don't
blame your tools! Most of the time the problem is in the code you have just
written and not in a tool that has gone through a rigorous testing process.</p>
<p>Looking back at the code we've written, the only place where we accumulate
additional state instead of just overwriting it is the code to add new bullets
so that seems like the best place to focus.</p>
<p>Now that we have a theory (that the bullet handling code is causing the
resource consumption), it would be nice to be able to prove it.</p>
<p>Let's add some code to illustrate the problem. We will display the number of
bullets we are tracking. If the bullets are not being cleaned up, the count
should only ever go up.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">print</span><span class="c07t">(#</span><span class="c06t">bullets</span><span class="c07t">,</span><span class="c12t">6</span><span class="c07t">)</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Hit <code>ctrl-r</code> to run the game and fire some bullets.</p>
<div><img src="ss/step_05/./problem.png" width="512" /></div>
<p>In the screenshot above, we have fired a total of <code>10</code> bullets, but only <code>3</code>
are visible on the screen. This clearly indicates the problem. We should only
be tracking bullets that are visible. Anything that has gone off the screen is
a waste of memory and processing time.</p>
<p>That gives us an outline of what the fix should be. Let's implement it.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">t</span><span class="c07t">=</span><span class="c06t">t</span><span class="c07t">+</span><span class="c12t">1</span>
</div>
<div>
</div>
<div> <span class="c14t">for </span><span class="c06t">b </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">bullets</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div>  <span class="c06t">b</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">+=</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">dx</span>
</div>
<div>  <span class="c06t">b</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">+=</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">dy</span>
</div>
<div>  <span class="c14t">if </span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t"><</span><span class="c12t">0 </span><span class="c14t">or </span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">></span><span class="c12t">128 </span><span class="c14t">or</span>
</div>
<div>   <span class="c06t">b</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t"><</span><span class="c12t">0 </span><span class="c14t">or </span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">></span><span class="c12t">128 </span><span class="c14t">then</span>
</div>
<div>   <span class="c06t">del</span><span class="c07t">(</span><span class="c06t">bullets</span><span class="c07t">,</span><span class="c06t">b</span><span class="c07t">)</span>
</div>
<div>  <span class="c14t">end</span>
</div>
<div> <span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>If a bullet's <code>x</code> or <code>y</code> coordinates ever go outside of the screen bounds, we
can safely get rid of it. The screen bounds are 0-128.</p>
<p>Before we test it, let's make a change to our bullet sprite to the bullets
stand out a bit more.</p>
<div><img src="ss/step_05/./bullet.png" width="512" /></div>
<p>Run the game with <code>ctrl-r</code> and let's see if we can get the number of bullets
being tracked to exceed the number of bullets on the screen.</p>
<div><img src="ss/step_05/./solution.png" width="512" /></div>
<p>The numbers now match no matter how many bullets we fire. Success! Bug fixed
and crisis averted!</p>
<h2 id="end-result-14"><a class="header" href="#end-result-14">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_05.html"></iframe>
<a href="ss/step_05/./ss_05.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="06-draw-enemies"><a class="header" href="#06-draw-enemies">06. Draw Enemies</a></h1>
<video controls width="512" poster="tut_6.gif">
    <source src="./tut_6.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_06/./tut_6.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_6.gif">Original Source</a>)</p>
<p>Start by adding a table to track enemies. Populate it with <code>10</code> enemies.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">ship</span><span class="c07t">={</span><span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">}</span>
</div>
<div> <span class="c06t">bullets</span><span class="c07t">={}</span>
</div>
<div> <span class="c06t">enemies</span><span class="c07t">={}</span>
</div>
<div> <span class="c14t">for </span><span class="c06t">i</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">10 </span><span class="c14t">do</span>
</div>
<div>  <span class="c06t">add</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">, {</span>
</div>
<div>   <span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">17</span><span class="c07t">,</span>
</div>
<div>   <span class="c06t">x</span><span class="c07t">=</span><span class="c06t">i</span><span class="c07t">*</span><span class="c12t">16</span><span class="c07t">,</span>
</div>
<div>   <span class="c06t">y</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">-</span><span class="c06t">i</span><span class="c07t">*</span><span class="c12t">8</span>
</div>
<div>  <span class="c07t">})</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>At the end of the <code>_draw</code> function, add code to display the enemies.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">for </span><span class="c06t">e </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div> <span class="c11t">spr</span><span class="c07t">(</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">sp</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Finally, let's add an enemy at location <code>017</code>.</p>
<div><img src="ss/step_06/./enemy.png" width="512" /></div>
<p>Press <code>ctrl-r</code> to run the game and you should see some enemies! You won't be
able to destroy them and they don't move, but it is a start!</p>
<div><img src="ss/step_06/./result.png" width="512" /></div>
<h2 id="end-result-15"><a class="header" href="#end-result-15">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_06.html"></iframe>
<a href="ss/step_06/./ss_06.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="07-move-enemies"><a class="header" href="#07-move-enemies">07. Move Enemies</a></h1>
<video controls width="512" poster="./tut_7.gif">
    <source src="./tut_7.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_07/./tut_7.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_7.gif">Original Source</a>)</p>
<p>In <code>_init</code>, update the enemy creation code.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">for </span><span class="c06t">i</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">10 </span><span class="c14t">do</span>
</div>
<div> <span class="c06t">add</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">,{</span>
</div>
<div>  <span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">17</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">m</span><span class="c07t">_</span><span class="c06t">x</span><span class="c07t">=</span><span class="c06t">i</span><span class="c07t">*</span><span class="c12t">16</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">m</span><span class="c07t">_</span><span class="c06t">y</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">-</span><span class="c06t">i</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">x</span><span class="c07t">=-</span><span class="c12t">32</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">y</span><span class="c07t">=-</span><span class="c12t">32</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">r</span><span class="c07t">=</span><span class="c12t">12</span>
</div>
<div> <span class="c07t">})</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>In <code>_update</code>, add code to change the position of the enemies.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">t</span><span class="c07t">=</span><span class="c06t">t</span><span class="c07t">+</span><span class="c12t">1</span>
</div>
<div>
</div>
<div> <span class="c14t">for </span><span class="c06t">e </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div>  <span class="c06t">e</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">=</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">r</span><span class="c07t">*</span><span class="c06t">sin</span><span class="c07t">(</span><span class="c06t">t</span><span class="c07t">/</span><span class="c12t">50</span><span class="c07t">)+</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">m</span><span class="c07t">_</span><span class="c06t">x</span>
</div>
<div>  <span class="c06t">e</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">=</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">r</span><span class="c07t">*</span><span class="c06t">cos</span><span class="c07t">(</span><span class="c06t">t</span><span class="c07t">/</span><span class="c12t">50</span><span class="c07t">)+</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">m</span><span class="c07t">_</span><span class="c06t">y</span>
</div>
<div> <span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Hit <code>ctrl-r</code> to run the game. You should see the enemies moving down the screen
in a circular pattern.</p>
<p>The enemies cannot hurt the player and vice versa. Come to think of it, the player doesn't even have any health. Let's explore that next.</p>
<h2 id="end-result-16"><a class="header" href="#end-result-16">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_07.html"></iframe>
<a href="ss/step_07/./ss_07.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="08-points-and-health"><a class="header" href="#08-points-and-health">08. Points and Health</a></h1>
<video controls width="512">
    <source src="./tut_8.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_08/./tut_8.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_8.gif">Original Source</a>)</p>
<p>Let's add a way to keep track of how much health the player has left. We will
use the seemingly ubiquitous measure of <strong>hearts</strong>.</p>
<p>Create two new sprites. The first represents a heart the player has and the
second represents the loss of a heart. These should be placed at locations
<code>033</code> and <code>034</code>, respectively.</p>
<div><img src="ss/step_08/./heart1.png" width="512" /></div>
<div><img src="ss/step_08/./heart2.png" width="512" /></div>
<p>The player will have a total of <code>4</code> possible hearts. Let's give them <code>3</code> so we can test the display of the missing heart.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">ship</span><span class="c07t">={</span><span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c06t">x</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">,</span><span class="c06t">h</span><span class="c07t">=</span><span class="c12t">3</span><span class="c07t">}</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>At the end of <code>_draw</code>, add the hearts display logic.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">for </span><span class="c06t">i</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">4 </span><span class="c14t">do</span>
</div>
<div> <span class="c14t">if </span><span class="c06t">i</span><span class="c07t"><=</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">h </span><span class="c14t">then</span>
</div>
<div>  <span class="c11t">spr</span><span class="c07t">(</span><span class="c12t">33</span><span class="c07t">,</span><span class="c12t">80</span><span class="c07t">+</span><span class="c12t">6</span><span class="c07t">*</span><span class="c06t">i</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">else</span>
</div>
<div>  <span class="c11t">spr</span><span class="c07t">(</span><span class="c12t">34</span><span class="c07t">,</span><span class="c12t">80</span><span class="c07t">+</span><span class="c12t">6</span><span class="c07t">*</span><span class="c06t">i</span><span class="c07t">,</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Press <code>ctrl-r</code> to run the game. You should see <code>3</code> red hearts and <code>1</code> gray
heart in the upper right corner. The hearts should display <strong>on top of</strong> any
enemies that pass by. If not, double check you added the hearts display logic
at the <strong>end</strong> of <code>_draw</code> and not any earlier.</p>
<div><img src="ss/step_08/./result.png" width="512" /></div>
<p>Having a way to measure player health is good. Now we need a way to reduce it!
It would also be good to be able to damage those enemies with our trusty laser
cannon.</p>
<p>Implementing either of these first requires that we take a detour into the land
of <strong>collision detection</strong>. This is a vital topic for just about all games.</p>
<p>It will take us a few steps to get through it, but it will be worth it as it
unlocks much of what follows it.</p>
<h2 id="end-result-17"><a class="header" href="#end-result-17">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_08.html"></iframe>
<a href="ss/step_08/./ss_08.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="09-collision-1-cleanup-and-prep"><a class="header" href="#09-collision-1-cleanup-and-prep">09. Collision 1: Cleanup and Prep</a></h1>
<video controls width="512" poster="tut_9.gif">
    <source src="./tut_9.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_09/./tut_9.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_9.gif">Original Source</a>)</p>
<p>We are going to make a few minor changes. The first is just a cleanup task.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">init</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">t</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div>
</div>
<div> <span class="c06t">ship</span><span class="c07t">={</span>
</div>
<div>  <span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">x</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">y</span><span class="c07t">=</span><span class="c12t">100</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">h</span><span class="c07t">=</span><span class="c12t">3</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">p</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div> <span class="c07t">}</span>
</div>
<div> <span class="c06t">bullets</span><span class="c07t">={}</span>
</div>
<div> <span class="c06t">enemies</span><span class="c07t">={}</span>
</div>
<div> <span class="c14t">for </span><span class="c06t">i</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">4 </span><span class="c06t">d</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>The variable <code>t</code> is now initialized within <code>_init</code>. This is just good practice.
It keeps all of your variable initialization in a single location.</p>
<p>The ship is now placed <code>40</code> pixels farther down on the screen. This is a more
traditional starting location for a ship in a space shooter.</p>
<p>The ship now holds a <code>p</code> property, which will be used to track how many points
the player has scored.</p>
<p>The addition of <code>p</code> makes the <code>ship</code> initialization a bit too long so we
changed the formatting so it is split over multiple lines. This makes it eaiser
to scan the code.</p>
<p>The final change is a reduction of the number of enemies created from <code>10</code> to
<code>4</code>. Having fewer entities in the game makes troublshooting collision detection
algorithms a git easier.</p>
<p>Of the changes we made, only the change to the number of enemies should be visible. Verify that by using <code>ctrl-r</code> to run the game.</p>
<div><img src="ss/step_09/./result1.png" width="512" /></div>
<p>With our bullet defect fixed, we no longer need to display the number of
bullets in our world. Let's reuse it to display the number of points that have
been scored.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">print</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">p</span><span class="c07t">,</span><span class="c12t">6</span><span class="c07t">)</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Let's prep for the addition of collision detection. Put this function above the <code>fire</code> function.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">coll</span><span class="c07t">(</span><span class="c06t">a</span><span class="c07t">,</span><span class="c06t">b</span><span class="c07t">)</span>
</div>
<div> <span class="c13t">--todo</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>In <code>_update</code>, call the collision function for each enemy.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">t</span><span class="c07t">=</span><span class="c06t">t</span><span class="c07t">+</span><span class="c12t">1</span>
</div>
<div>
</div>
<div> <span class="c14t">for </span><span class="c06t">e </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div>  <span class="c06t">e</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">=</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">r</span><span class="c07t">*</span><span class="c06t">sin</span><span class="c07t">(</span><span class="c06t">t</span><span class="c07t">/</span><span class="c12t">50</span><span class="c07t">)+</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">m</span><span class="c07t">_</span><span class="c06t">x</span>
</div>
<div>  <span class="c06t">e</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">=</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">r</span><span class="c07t">*</span><span class="c06t">cos</span><span class="c07t">(</span><span class="c06t">t</span><span class="c07t">/</span><span class="c12t">50</span><span class="c07t">)+</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">m</span><span class="c07t">_</span><span class="c06t">y</span>
</div>
<div>  <span class="c14t">if </span><span class="c06t">coll</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>   <span class="c13t">--todo</span>
</div>
<div>  <span class="c14t">end</span>
</div>
<div> <span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Hit <code>ctrl-r</code> to run the game. The only visible difference should be that firing a bullet no longer increases the count in the upper left corner.</p>
<div><img src="ss/step_09/./result2.png" width="512" /></div>
<h2 id="end-result-18"><a class="header" href="#end-result-18">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_09.html"></iframe>
<a href="ss/step_09/./ss_09.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="10-collision-2-define-boxes"><a class="header" href="#10-collision-2-define-boxes">10. Collision 2: Define Boxes</a></h1>
<video controls width="512" poster="./tut_10.gif">
    <source src="./tut_10.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_10/./tut_10.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_10.gif">Original Source</a>)</p>
<p>OK. This is a very code heavy step. It is merely setup for the next step.</p>
<p>Start by adding a <code>box</code> property to the <code>ship</code> table. This defines the
<strong>collison box</strong> of the ship. If the bounds of this box overlap with the bounds
of an enemy's box, the player should lose a heart.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">ship</span><span class="c07t">={</span>
</div>
<div> <span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">x</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">y</span><span class="c07t">=</span><span class="c12t">100</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">h</span><span class="c07t">=</span><span class="c12t">3</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">p</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">box</span><span class="c07t">={</span><span class="c06t">x1</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">y1</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">x2</span><span class="c07t">=</span><span class="c12t">7</span><span class="c07t">,</span><span class="c06t">y2</span><span class="c07t">=</span><span class="c12t">7</span><span class="c07t">}</span>
</div>
<div><span class="c07t">}</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Add a <code>box</code> property to the enemies.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">add</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">,{</span>
</div>
<div> <span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">17</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">m</span><span class="c07t">_</span><span class="c06t">x</span><span class="c07t">=</span><span class="c06t">i</span><span class="c07t">*</span><span class="c12t">16</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">m</span><span class="c07t">_</span><span class="c06t">y</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">-</span><span class="c06t">i</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">x</span><span class="c07t">=-</span><span class="c12t">32</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">y</span><span class="c07t">=-</span><span class="c12t">32</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">r</span><span class="c07t">=</span><span class="c12t">12</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">box</span><span class="c07t">={</span><span class="c06t">x1</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">y1</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">x2</span><span class="c07t">=</span><span class="c12t">7</span><span class="c07t">,</span><span class="c06t">y2</span><span class="c07t">=</span><span class="c12t">7</span><span class="c07t">}</span>
</div>
<div><span class="c07t">})</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Next, we add a box to our bullets. If a bullet's box intersects with an enemy's
box, the enemy should receive damage or be destroyed. Bullets are destroyed by
the impact.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">fire</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">local b</span><span class="c07t">={</span>
</div>
<div>  <span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">3</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">x</span><span class="c07t">=</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">y</span><span class="c07t">=</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">dx</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">dy</span><span class="c07t">=-</span><span class="c12t">3</span><span class="c07t">,</span>
</div>
<div>  <span class="c06t">box</span><span class="c07t">={</span><span class="c06t">x1</span><span class="c07t">=</span><span class="c12t">2</span><span class="c07t">,</span><span class="c06t">y1</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">x2</span><span class="c07t">=</span><span class="c12t">5</span><span class="c07t">,</span><span class="c06t">y2</span><span class="c07t">=</span><span class="c12t">4</span><span class="c07t">}</span>
</div>
<div> <span class="c07t">}</span>
</div>
<div> <span class="c06t">add</span><span class="c07t">(</span><span class="c06t">bullets</span><span class="c07t">,</span><span class="c06t">b</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>This <strong>bounding box</strong> is smaller than the one for either enemies or the ship
since the bullet doesn't fill its tile.</p>
<p>The function <code>abs_box</code> goes above the placeholder <code>coll</code> function we added in
the last step. The <code>box</code> properties we added just tell us the size of the box.
To actually compute whether two objects on screen intersect, we need the pixel
coordinates of the box.</p>
<p>That is what this function does. It adds an object's <code>x</code> and <code>y</code> coordinates to
the <code>box</code>'s properties. It translates from the <em>relative</em> coordinates of the
box to its <em>absolute</em> coordinates.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">abs</span><span class="c07t">_</span><span class="c06t">box</span><span class="c07t">(</span><span class="c06t">s</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">local box</span><span class="c07t">={}</span>
</div>
<div> <span class="c06t">box</span><span class="c07t">.</span><span class="c06t">x1</span><span class="c07t">=</span><span class="c06t">s</span><span class="c07t">.</span><span class="c06t">box</span><span class="c07t">.</span><span class="c06t">x1</span><span class="c07t">+</span><span class="c06t">s</span><span class="c07t">.</span><span class="c06t">x</span>
</div>
<div> <span class="c06t">box</span><span class="c07t">.</span><span class="c06t">y1</span><span class="c07t">=</span><span class="c06t">s</span><span class="c07t">.</span><span class="c06t">box</span><span class="c07t">.</span><span class="c06t">y1</span><span class="c07t">+</span><span class="c06t">s</span><span class="c07t">.</span><span class="c06t">y</span>
</div>
<div> <span class="c06t">box</span><span class="c07t">.</span><span class="c06t">x2</span><span class="c07t">=</span><span class="c06t">s</span><span class="c07t">.</span><span class="c06t">box</span><span class="c07t">.</span><span class="c06t">x2</span><span class="c07t">+</span><span class="c06t">s</span><span class="c07t">.</span><span class="c06t">x</span>
</div>
<div> <span class="c06t">box</span><span class="c07t">.</span><span class="c06t">y2</span><span class="c07t">=</span><span class="c06t">s</span><span class="c07t">.</span><span class="c06t">box</span><span class="c07t">.</span><span class="c06t">y2</span><span class="c07t">+</span><span class="c06t">s</span><span class="c07t">.</span><span class="c06t">y</span>
</div>
<div> <span class="c14t">return </span><span class="c06t">box</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>This next change sets us up for calculating whether there was a collision
between two boxes. It takes two entities (<code>A</code> and <code>B</code>) and gets the screen
coordinates of the bounds of their <strong>bounding box</strong>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">coll</span><span class="c07t">(</span><span class="c06t">a</span><span class="c07t">, </span><span class="c06t">b</span><span class="c07t">)</span>
</div>
<div> <span class="c13t">--todo</span>
</div>
<div> <span class="c06t">box</span><span class="c07t">_</span><span class="c06t">a</span><span class="c07t">=</span><span class="c06t">abs</span><span class="c07t">_</span><span class="c06t">box</span><span class="c07t">(</span><span class="c06t">a</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">box</span><span class="c07t">_</span><span class="c06t">b</span><span class="c07t">=</span><span class="c06t">abs</span><span class="c07t">_</span><span class="c06t">box</span><span class="c07t">(</span><span class="c06t">b</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>What do we have to show for all that typing? Nothing (just yet), at least, not
that we can see visually. We did plenty conceptually.</p>
<p>We added bounding boxes to our ship, enemies, and bullets. We can compute the
absolute (screen) coordinates of the bounding box for one of these entities. We
also updated our <code>coll</code> function to compute the bounding box for two different
entities which will be used to start causing damage to the ship, enemies, and
bullets.</p>
<h2 id="end-result-19"><a class="header" href="#end-result-19">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_10.html"></iframe>
<a href="ss/step_10/./ss_10.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="11-collision-3-collide-boxes"><a class="header" href="#11-collision-3-collide-boxes">11. Collision 3: Collide Boxes</a></h1>
<video controls width="512" poster="./tut_11.gif">
    <source src="./tut_11.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_11/./tut_11.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_11.gif">Original Source</a>)</p>
<p>Let's finish the implementation of <code>coll</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">coll</span><span class="c07t">(</span><span class="c06t">a</span><span class="c07t">,</span><span class="c06t">b</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">local box</span><span class="c07t">_</span><span class="c06t">a</span><span class="c07t">=</span><span class="c06t">abs</span><span class="c07t">_</span><span class="c06t">box</span><span class="c07t">(</span><span class="c06t">a</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">local box</span><span class="c07t">_</span><span class="c06t">b</span><span class="c07t">=</span><span class="c06t">abs</span><span class="c07t">_</span><span class="c06t">box</span><span class="c07t">(</span><span class="c06t">b</span><span class="c07t">)</span>
</div>
<div>
</div>
<div> <span class="c14t">if </span><span class="c06t">box</span><span class="c07t">_</span><span class="c06t">a</span><span class="c07t">.</span><span class="c06t">x1</span><span class="c07t">></span><span class="c06t">box</span><span class="c07t">_</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">x2 </span><span class="c14t">or</span>
</div>
<div>    <span class="c06t">box</span><span class="c07t">_</span><span class="c06t">a</span><span class="c07t">.</span><span class="c06t">y1</span><span class="c07t">></span><span class="c06t">box</span><span class="c07t">_</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">y2 </span><span class="c14t">or</span>
</div>
<div>    <span class="c06t">box</span><span class="c07t">_</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">x1</span><span class="c07t">></span><span class="c06t">box</span><span class="c07t">_</span><span class="c06t">a</span><span class="c07t">.</span><span class="c06t">x2 </span><span class="c14t">or</span>
</div>
<div>    <span class="c06t">box</span><span class="c07t">_</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">y1</span><span class="c07t">></span><span class="c06t">box</span><span class="c07t">_</span><span class="c06t">a</span><span class="c07t">.</span><span class="c06t">y2 </span><span class="c14t">then</span>
</div>
<div>    <span class="c14t">return </span><span class="c06t">false</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div> 
</div>
<div> <span class="c14t">return </span><span class="c06t">true</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>This is the only code change shown in the original step 11. The video shows
bullets destroying enemies and the score incrementing by one with each enemy
destroyed, but if you try running the game now, that won't happen.</p>
<p>Luckily, the missing code is modified in step 13 so we can recreate the
original behavior. Add this to <code>_update</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">for </span><span class="c06t">b </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">bullets</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div> <span class="c06t">b</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">+=</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">dx</span>
</div>
<div> <span class="c06t">b</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">+=</span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">dy</span>
</div>
<div> <span class="c14t">if </span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t"><</span><span class="c12t">0 </span><span class="c14t">or </span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">></span><span class="c12t">128 </span><span class="c14t">or</span>
</div>
<div>  <span class="c06t">b</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t"><</span><span class="c12t">0 </span><span class="c14t">or </span><span class="c06t">b</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">></span><span class="c12t">128 </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">del</span><span class="c07t">(</span><span class="c06t">bullets</span><span class="c07t">,</span><span class="c06t">b</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div> <span class="c14t">for </span><span class="c06t">e </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div>  <span class="c14t">if </span><span class="c06t">coll</span><span class="c07t">(</span><span class="c06t">b</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div>   <span class="c06t">del</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">)</span>
</div>
<div>   <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">p</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div>  <span class="c14t">end</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Hit <code>ctrl-r</code> to run the game. Fire a few bullets with <code>X</code>. When one of them
hits an enemey, the enemy should disappear. The score should increment by one
with each enemy you destroy.</p>
<div><img src="ss/step_11/./result.png" width="512" /></div>
<h2 id="end-result-20"><a class="header" href="#end-result-20">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_11.html"></iframe>
<a href="ss/step_11/./ss_11.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="12-change-states"><a class="header" href="#12-change-states">12. Change states</a></h1>
<video controls width="512" poster="./tut_12.gif">
    <source src="./tut_12.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_12/./tut_12.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_12.gif">Original Source</a>)</p>
<p>There's no way for the player to lose the game. In this step, we are going to
introduce the concept of <em>game states</em>. We will have two.</p>
<p>The first we will call the <code>game</code> state. It means we should run the game loop
which controls the enemies, allows the player to move, etc.</p>
<p>The second we will call the <code>game over</code> state. In this state, we don't want to
show the enemies or the player. You shouldn't be able to control the ship. We
just want to display a message letting the user know they lost.</p>
<p>There are many different ways to represent these different states and to
control what happens in each of them. In this tutorial, we are going to use a
fairly advanced, but extremely elegant technique.</p>
<p>PICO-8 uses the Lua programming language. Functions in Lua can be redefined at
runtime. This makes it possible to <em>change</em> (whle the game is running!) the
<code>_update</code> and <code>_draw</code> functions PICO-8 calls during each frame.</p>
<p>The way we do this is by simply assigning the name of another function to the <code>_update</code> and <code>_draw</code> identifiers.</p>
<p>For example:</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">=</span><span class="c06t">a</span><span class="c07t">_</span><span class="c06t">different</span><span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">_</span><span class="c14t">function</span>
</div>
<div><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">=</span><span class="c06t">a</span><span class="c07t">_</span><span class="c06t">different</span><span class="c07t">_</span><span class="c06t">update</span><span class="c07t">_</span><span class="c14t">function</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>The current <code>_update</code> and <code>_draw</code> functions represent what should happen when we are in our <code>game</code> state. These will be renamed and we will add new functions to call when we are in our <code>game over</code> state.</p>
<p><code>start</code> is the function that will replace assign the <code>game</code> state functions.
Add a call to it at the end of <code>_init</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div> <span class="c14t">end</span>
</div>
<div> <span class="c06t">start</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Add these functions right after <code>_init</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">start</span><span class="c07t">()</span>
</div>
<div> <span class="c07t">_</span><span class="c06t">update</span><span class="c07t">=</span><span class="c06t">update</span><span class="c07t">_</span><span class="c06t">game</span>
</div>
<div> <span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">=</span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">game</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">game</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">()</span>
</div>
<div> <span class="c07t">_</span><span class="c06t">update</span><span class="c07t">=</span><span class="c06t">update</span><span class="c07t">_</span><span class="c06t">over</span>
</div>
<div> <span class="c07t">_</span><span class="c06t">draw</span><span class="c07t">=</span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">over</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">update</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">print</span><span class="c07t">(</span><span class="c12t">"game over"</span><span class="c07t">,</span><span class="c12t">50</span><span class="c07t">,</span><span class="c12t">50</span><span class="c07t">,</span><span class="c12t">4</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
Rename the existing `_update` function to `update_game`.
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">update</span><span class="c07t">_</span><span class="c06t">game</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">t</span><span class="c07t">=</span><span class="c06t">t</span><span class="c07t">+</span><span class="c12t">1</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Rename the existing <code>_draw</code> function to <code>draw_game</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">game</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Hit <code>ctrl-r</code> to run the game. The game should run just as it did before as we
haven't added any code to change the game state. That's coming next.</p>
<h2 id="end-result-21"><a class="header" href="#end-result-21">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_12.html"></iframe>
<a href="ss/step_12/./ss_12.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="13-health-game-over-immortaility"><a class="header" href="#13-health-game-over-immortaility">13. Health, Game Over, Immortaility</a></h1>
<video controls width="512" poster="./tut_13.gif">
    <source src="./tut_13.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_13/./tut_13.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_13.gif">Original Source</a>)</p>
<p>Let's make it possible to lose the game!</p>
<p>Start by adding two properties to the <code>ship</code>. <code>t</code> will be used in some animation calculations. <code>imm</code> is used to indicate if the ship is temporarily invulnerable.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">ship</span><span class="c07t">={</span>
</div>
<div> <span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">x</span><span class="c07t">=</span><span class="c12t">60</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">y</span><span class="c07t">=</span><span class="c12t">100</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">h</span><span class="c07t">=</span><span class="c12t">4</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">p</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">t</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">imm</span><span class="c07t">=</span><span class="c06t">false</span><span class="c07t">,</span>
</div>
<div> <span class="c06t">box</span><span class="c07t">={</span><span class="c06t">x1</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">y1</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">x2</span><span class="c07t">=</span><span class="c12t">7</span><span class="c07t">,</span><span class="c06t">y2</span><span class="c07t">=</span><span class="c12t">7</span><span class="c07t">}</span>
</div>
<div><span class="c07t">}</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>The <code>h=4</code> in the above snippet isn't a typo. Having the starting number of ship
hearts set to <code>3</code> was great for testing the missing heart display
functionality, but we've done that so we no longer need to penalize the player,
especially since we are about to enable them to get hurt!</p>
<p>A couple of steps back, we added a placeholder to check if the ship collided with any enemies. It is time to implement that logic. Add this to <code>update_game</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">update</span><span class="c07t">_</span><span class="c06t">game</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">t</span><span class="c07t">=</span><span class="c06t">t</span><span class="c07t">+</span><span class="c12t">1</span>
</div>
<div> <span class="c14t">if </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">imm </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">t</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div>  <span class="c14t">if </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">t</span><span class="c07t">></span><span class="c12t">30 </span><span class="c14t">then</span>
</div>
<div>    <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">imm</span><span class="c07t">=</span><span class="c06t">false</span>
</div>
<div>    <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">t</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div>  <span class="c14t">end</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div>
</div>
<div> <span class="c14t">for </span><span class="c06t">e </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div>  <span class="c06t">e</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">=</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">r</span><span class="c07t">*</span><span class="c06t">sin</span><span class="c07t">(</span><span class="c06t">t</span><span class="c07t">/</span><span class="c12t">50</span><span class="c07t">)+</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">m</span><span class="c07t">_</span><span class="c06t">x</span>
</div>
<div>  <span class="c06t">e</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">=</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">r</span><span class="c07t">*</span><span class="c06t">cos</span><span class="c07t">(</span><span class="c06t">t</span><span class="c07t">/</span><span class="c12t">50</span><span class="c07t">)+</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">m</span><span class="c07t">_</span><span class="c06t">y</span>
</div>
<div>  <span class="c14t">if </span><span class="c06t">coll</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">) </span><span class="c14t">and not </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">imm </span><span class="c14t">then</span>
</div>
<div>   <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">imm</span><span class="c07t">=</span><span class="c06t">true</span>
</div>
<div>   <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">h</span><span class="c07t">-=</span><span class="c12t">1</span>
</div>
<div>   <span class="c14t">if </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">h</span><span class="c07t"><=</span><span class="c12t">0 </span><span class="c14t">then</span>
</div>
<div>    <span class="c06t">game</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">()</span>
</div>
<div>   <span class="c14t">end</span>
</div>
<div>  <span class="c14t">end</span>
</div>
<div> <span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>First, we check the <code>imm</code> flag. If it is set, the ship needs to be invulnerable
for a full second (<code>30</code> frames). Once that time has passed, clear the flag and
reset the <code>ship.t</code> counter.</p>
<p>As we loop through the enemies, check if the ship collided with the current
enemy. If so, set the <code>imm</code> flag to give the ship temporary invulnerability.
Reduce the number of hearts by one. Check to see if we are out of hearts. If we
are out of heats, transition to the <code>game over</code> state to let the player known.</p>
<p>In <code>draw_game</code>, only draw the ship if it is not invulnerable or for ever other four frames, if it is.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">game</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">print</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">p</span><span class="c07t">,</span><span class="c12t">6</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">if not </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">imm </span><span class="c14t">or </span><span class="c06t">t</span><span class="c07t">%</span><span class="c12t">8</span><span class="c07t"><</span><span class="c12t">4 </span><span class="c14t">then</span>
</div>
<div>  <span class="c11t">spr</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">sp</span><span class="c07t">,</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Hit <code>ctrl-r</code> to run the game. Move the ship so it is in the path of the
enemies. The number of hearts should reduce by one each time it is hit. After
each hit, the ship should flash off and on periodically over a second before
becoming vulnerable again.</p>
<div><img src="ss/step_13/./result1.png" width="512" /></div>
<p>Once the last heart is lost, the game over screen should be displayed.</p>
<div><img src="ss/step_13/./result2.png" width="512" /></div>
<p>At this point, we have something that is starting to feel like a real game. The
ship can fire bullets which destroy enemies, it can be damaged by the enemies,
and once all its hearts are lost, the game ends!</p>
<h2 id="end-result-22"><a class="header" href="#end-result-22">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_13.html"></iframe>
<a href="ss/step_13/./ss_13.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="14-explosions"><a class="header" href="#14-explosions">14. Explosions</a></h1>
<video controls width="512" poster="./tut_14.gif">
    <source src="./tut_14.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_14/./tut_14.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_14.gif">Original Source</a>)</p>
<p>Let's make the enemies explode when they are destroyed.</p>
<p>Explosions are different from enemies or bullets so we need a table to track them. Put this in <code>_init</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">bullets</span><span class="c07t">={}</span>
</div>
<div><span class="c06t">enemies</span><span class="c07t">={}</span>
</div>
<div><span class="c06t">explosions</span><span class="c07t">={}</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Right above the <code>fire</code> function, add the <code>explode</code> function.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">explode</span><span class="c07t">(</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">add</span><span class="c07t">(</span><span class="c06t">explosions</span><span class="c07t">,{</span><span class="c06t">x</span><span class="c07t">=</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">y</span><span class="c07t">=</span><span class="c06t">y</span><span class="c07t">,</span><span class="c06t">t</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">})</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>In <code>update_game</code>, put this explosions loop right before the loop over the enemies.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">for </span><span class="c06t">ex </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">explosions</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div> <span class="c06t">ex</span><span class="c07t">.</span><span class="c06t">t</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div> <span class="c14t">if </span><span class="c06t">ex</span><span class="c07t">.</span><span class="c06t">t</span><span class="c07t">==</span><span class="c12t">13 </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">del</span><span class="c07t">(</span><span class="c06t">explosions</span><span class="c07t">,</span><span class="c06t">ex</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">for </span><span class="c06t">e </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>In the bullets loop of <code>update_game</code>, add a call to <code>explode</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">if </span><span class="c06t">coll</span><span class="c07t">(</span><span class="c06t">b</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">) </span><span class="c14t">then</span>
</div>
<div> <span class="c06t">del</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">)</span>
</div>
<div> <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">p</span><span class="c07t">+=</span><span class="c12t">1</span>
</div>
<div> <span class="c06t">explode</span><span class="c07t">(</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>In <code>draw_game</code>, add a loop to draw all of the explosions.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">game</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">print</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">p</span><span class="c07t">,</span><span class="c12t">6</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">if not </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">imm </span><span class="c14t">or </span><span class="c06t">t</span><span class="c07t">%</span><span class="c12t">8</span><span class="c07t"><</span><span class="c12t">4 </span><span class="c14t">then</span>
</div>
<div>  <span class="c11t">spr</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">sp</span><span class="c07t">,</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div>
</div>
<div> <span class="c14t">for </span><span class="c06t">ex </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">explosions</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div>  <span class="c11t">circ</span><span class="c07t">(</span><span class="c06t">ex</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">ex</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">,</span><span class="c06t">ex</span><span class="c07t">.</span><span class="c06t">t</span><span class="c07t">/</span><span class="c12t">3</span><span class="c07t">,</span><span class="c12t">8</span><span class="c07t">+</span><span class="c06t">ex</span><span class="c07t">.</span><span class="c06t">t</span><span class="c07t">%</span><span class="c12t">3</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>In the video, the score flashes during the explosion animation. The code to
flash the score is not in the video. Part of it belongs in the snippet we just
entered.</p>
<p>For now, this is an exercise for the reader to add.</p>
<p>Hit <code>ctrl-r</code> to run the game. Fire bullets with <code>X</code>. Whenever an enemy is
destroyed, an expanding, flashing circle should be displayed for about half a
second before it disappears.</p>
<div><img src="ss/step_14/./result.png" width="512" /></div>
<h2 id="end-result-23"><a class="header" href="#end-result-23">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_14.html"></iframe>
<a href="ss/step_14/./ss_14.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="15-stars"><a class="header" href="#15-stars">15. Stars</a></h1>
<video controls width="512" poster="./tut_15.gif">
    <source src="./tut_15.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_15/./tut_15.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_15.gif">Original Source</a>)</p>
<p>Let's add a moving star field. It will help give the illusion that the ship is moving through space!</p>
<p>In <code>_init</code>, add a stars table and populate it.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c06t">explosions</span><span class="c07t">={}</span>
</div>
<div><span class="c06t">stars</span><span class="c07t">={}</span>
</div>
<div><span class="c14t">for </span><span class="c06t">i</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c12t">128 </span><span class="c14t">do</span>
</div>
<div> <span class="c06t">add</span><span class="c07t">(</span><span class="c06t">stars</span><span class="c07t">,{</span>
</div>
<div>  <span class="c06t">x</span><span class="c07t">=</span><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">128</span><span class="c07t">),</span>
</div>
<div>  <span class="c06t">y</span><span class="c07t">=</span><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">128</span><span class="c07t">),</span>
</div>
<div>  <span class="c06t">s</span><span class="c07t">=</span><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">2</span><span class="c07t">)+</span><span class="c12t">1</span>
</div>
<div> <span class="c07t">})</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Each star has a random <code>X</code> and <code>Y</code> position and a random speed.</p>
<p>In <code>update_game</code>, add a loop to update the stars before the explosions loop.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">for </span><span class="c06t">st </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">stars</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div> <span class="c06t">st</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">+=</span><span class="c06t">st</span><span class="c07t">.</span><span class="c06t">s</span>
</div>
<div> <span class="c14t">if </span><span class="c06t">st</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">>=</span><span class="c12t">128 </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">st</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">=</span><span class="c12t">0</span>
</div>
<div>  <span class="c06t">st</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">=</span><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">128</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>We move the stars down the screen at a speed of <code>st.s</code> pixels per frame. Once
it goes past the bottom of the screen, we move it back to the top of the screen
and give it a new random <code>X</code> position.</p>
<p>Stars do not need to be deleted since we continually reuse them. We will only ever have 128 stars in our table.</p>
<p>In <code>draw_game</code>, add a loop to display our stars.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">draw</span><span class="c07t">_</span><span class="c06t">game</span><span class="c07t">()</span>
</div>
<div> <span class="c11t">cls</span><span class="c07t">()</span>
</div>
<div> <span class="c14t">for </span><span class="c06t">st </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">stars</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div>  <span class="c06t">pset</span><span class="c07t">(</span><span class="c06t">st</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">,</span><span class="c06t">st</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">,</span><span class="c12t">6</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div>
</div>
<div> <span class="c06t">print</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">p</span><span class="c07t">,</span><span class="c12t">6</span><span class="c07t">)</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Hit <code>ctrl-r</code> to run the game. You should see a continually moving star field
background!</p>
<div><img src="ss/step_15/./result.png" width="512" /></div>
<h2 id="end-result-24"><a class="header" href="#end-result-24">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_15.html"></iframe>
<a href="ss/step_15/./ss_15.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="16-enemy-movement-and-respawn"><a class="header" href="#16-enemy-movement-and-respawn">16. Enemy Movement and Respawn</a></h1>
<video controls width="512" poster="./tut_16.gif">
    <source src="./tut_16.mp4"
            type="video/mp4">
    Sorry, your browser doesn't support embedded videos.
</video>
<p><a href="ss/step_16/./tut_16.git">Image</a> (<a href="https://ztiromoritz.github.io/pico-8-shooter/gif/tut_16.gif">Original Source</a>)</p>
<p>The game as it stands now isn't very challenging. There are four enmeies. They
have a very predictable position and movement pattern. Once they are defeated,
no other enemies appear and you are left zooming through a star field with no
other threats.</p>
<p>In this, the final step of the original tutorial, we will add enemy respawn so
that once a wave of enemies is defeated or leaves the screen, another wave
takes their place.</p>
<p>Start by <em>deleting</em> the loop that creates the enemies out of <code>_init</code>. We are
going to move it elsewhere.</p>
<p>Create a <code>respawn</code> function just after <code>_init</code>.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">function </span><span class="c06t">respawn</span><span class="c07t">()</span>
</div>
<div> <span class="c06t">local n</span><span class="c07t">=</span><span class="c11t">flr</span><span class="c07t">(</span><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">9</span><span class="c07t">))+</span><span class="c12t">2</span>
</div>
<div> <span class="c14t">for </span><span class="c06t">i</span><span class="c07t">=</span><span class="c12t">1</span><span class="c07t">,</span><span class="c06t">n </span><span class="c14t">do</span>
</div>
<div>  <span class="c06t">local d</span><span class="c07t">=-</span><span class="c12t">1</span>
</div>
<div>  <span class="c14t">if </span><span class="c11t">rnd</span><span class="c07t">(</span><span class="c12t">1</span><span class="c07t">)<</span><span class="c12t">0.5 </span><span class="c14t">then </span><span class="c06t">d</span><span class="c07t">=</span><span class="c12t">1 </span><span class="c14t">end</span>
</div>
<div>  <span class="c06t">add</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">,{</span>
</div>
<div>   <span class="c06t">sp</span><span class="c07t">=</span><span class="c12t">17</span><span class="c07t">,</span>
</div>
<div>   <span class="c06t">m</span><span class="c07t">_</span><span class="c06t">x</span><span class="c07t">=</span><span class="c06t">i</span><span class="c07t">*</span><span class="c12t">16</span><span class="c07t">,</span>
</div>
<div>   <span class="c06t">m</span><span class="c07t">_</span><span class="c06t">y</span><span class="c07t">=-</span><span class="c12t">20</span><span class="c07t">-</span><span class="c06t">i</span><span class="c07t">*</span><span class="c12t">8</span><span class="c07t">,</span>
</div>
<div>   <span class="c06t">d</span><span class="c07t">=</span><span class="c06t">d</span><span class="c07t">,</span>
</div>
<div>   <span class="c06t">x</span><span class="c07t">=-</span><span class="c12t">32</span><span class="c07t">,</span>
</div>
<div>   <span class="c06t">y</span><span class="c07t">=-</span><span class="c12t">32</span><span class="c07t">,</span>
</div>
<div>   <span class="c06t">r</span><span class="c07t">=</span><span class="c12t">12</span><span class="c07t">,</span>
</div>
<div>   <span class="c06t">box</span><span class="c07t">={</span><span class="c06t">x1</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">y1</span><span class="c07t">=</span><span class="c12t">0</span><span class="c07t">,</span><span class="c06t">x2</span><span class="c07t">=</span><span class="c12t">7</span><span class="c07t">,</span><span class="c06t">y2</span><span class="c07t">=</span><span class="c12t">7</span><span class="c07t">}</span>
</div>
<div>  <span class="c07t">})</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>In <code>update_game</code>, add a check before the enemies loop to call <code>respawn</code> if
there are no more enemies. Modify the enemies loop to randomize their movement
patterns a bit and to remove enemies that have left the screen.</p>
<div class="pico8-src c08b">&nbsp;</div>
<div class="pico8-src">
<div><span class="c14t">if </span><span class="c07t">#</span><span class="c06t">enemies</span><span class="c07t"><=</span><span class="c12t">0 </span><span class="c14t">then</span>
</div>
<div> <span class="c06t">respawn</span><span class="c07t">()</span>
</div>
<div><span class="c14t">end</span>
</div>
<div>
</div>
<div><span class="c14t">for </span><span class="c06t">e </span><span class="c14t">in </span><span class="c06t">all</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">) </span><span class="c14t">do</span>
</div>
<div> <span class="c06t">e</span><span class="c07t">.</span><span class="c06t">m</span><span class="c07t">_</span><span class="c06t">y</span><span class="c07t">+=</span><span class="c12t">1.3</span>
</div>
<div> <span class="c06t">e</span><span class="c07t">.</span><span class="c06t">x</span><span class="c07t">=</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">r</span><span class="c07t">*</span><span class="c06t">sin</span><span class="c07t">(</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">d</span><span class="c07t">*</span><span class="c06t">t</span><span class="c07t">/</span><span class="c12t">50</span><span class="c07t">)+</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">m</span><span class="c07t">_</span><span class="c06t">x</span>
</div>
<div> <span class="c06t">e</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">=</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">r</span><span class="c07t">*</span><span class="c06t">cos</span><span class="c07t">(</span><span class="c06t">t</span><span class="c07t">/</span><span class="c12t">50</span><span class="c07t">)+</span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">m</span><span class="c07t">_</span><span class="c06t">y</span>
</div>
<div> <span class="c14t">if </span><span class="c06t">coll</span><span class="c07t">(</span><span class="c06t">ship</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">) </span><span class="c14t">and not </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">imm </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">imm</span><span class="c07t">=</span><span class="c06t">true</span>
</div>
<div>  <span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">h</span><span class="c07t">-=</span><span class="c12t">1</span>
</div>
<div>  <span class="c14t">if </span><span class="c06t">ship</span><span class="c07t">.</span><span class="c06t">h</span><span class="c07t"><=</span><span class="c12t">0 </span><span class="c14t">then</span>
</div>
<div>   <span class="c06t">game</span><span class="c07t">_</span><span class="c06t">over</span><span class="c07t">()</span>
</div>
<div>  <span class="c14t">end</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div>
</div>
<div> <span class="c14t">if </span><span class="c06t">e</span><span class="c07t">.</span><span class="c06t">y</span><span class="c07t">></span><span class="c12t">150 </span><span class="c14t">then</span>
</div>
<div>  <span class="c06t">del</span><span class="c07t">(</span><span class="c06t">enemies</span><span class="c07t">,</span><span class="c06t">e</span><span class="c07t">)</span>
</div>
<div> <span class="c14t">end</span>
</div>
<div><span class="c14t">end</span>
</div>
</div>
<div class="pico8-src c08b">&nbsp;</div>
<p>Hit <code>ctrl-r</code> to run the game. After defeating all of the enemies on the screen
or allowing them to go passed the ship off the bottom of the screen, more
enemies should take their place. Their movement patterns should be a bit
randomized and you fill finally be able to beat your high score of <code>4</code>!</p>
<div><img src="ss/step_16/./result.png" width="512" /></div>
<p>Congratulations! You have completed all of the steps of the original &quot;Space Shooter in 16 GIFs&quot; tutorial!</p>
<p>The fun doesn't have to stop here! There are many things left that you could do. Here are some ideas to get you started.</p>
<ul>
<li>Can you move your ship off of the screen? What would it take to prevent this?</li>
<li>Bullets go straight through enemies. In many shooters, bullets are destroyed
by the impact with an enemy. How would you implement this?</li>
<li>In order to restart the game, we have to reset the cart? Write code to prompt
the user to press a button to restart and then reset the cart for them.
There's a PICO-8 API to reset the cart. Find the documentation for it!</li>
<li>Our game has no sound! Create sounds for firing a bullet, being hit, and
destroying an enemy. Play the sounds at the appropriate times.</li>
<li>Our game has no music! Write a catchy tune to keep you singing along while
you save the galaxy from the green invaders.</li>
<li>All of the enemies can be defeated with a single hit. What would you need to
change to make it take more than one hit to destroy an enemy?</li>
<li>We only have one enemy type! How would you add more?</li>
<li>All of the enemies follow the same movement pattern. What are some other
movement patterns? How would you implement them?</li>
<li>None of our enemies shoot bullets at us. How would you implement enemy
bullets? Should enemy bullets hurt other enemies? Why or why not? How would
you implement either approach?</li>
<li>The ship can never regain any hearts. How would you add power ups to allow
the ship to recover hearts?</li>
<li>Being able to recover hearts is nice. What other power ups should be in the
game? What do they do? How long do they last?</li>
<li>Speaking of power ups, what about upgrading your laser cannon or swapping it
out for an entirely different type of gun? What should the different weapon
types be? How do you change them? Do they randomly appear? Do you have to buy
them in a shop between levels?</li>
<li>Our game has no levels. How long should a level be? What should change from
level to level? Enemy speed, strength, type? What about visual changes?
Colors, obstacles, music?</li>
<li>Our game has no story. Should it have a general back story you see when you
first run the game? Or should the story unfold as you progress from level to
level? How would you implement your choice?</li>
<li>Even if a game has no story you directly tell the user, having a back story
for your game makes it easier to design things that fit into the game and
don't feel out of place. What is the back story for your game? How does that
story influence how you think about your game?</li>
<li>We have no high score list. How would you implement one?</li>
</ul>
<h2 id="end-result-25"><a class="header" href="#end-result-25">End Result</a></h2>
<iframe width="750px" height="680px" src="./ss_16.html"></iframe>
<a href="ss/step_16/./ss_16.p8.png" target="_blank">Download</a>
<script type="text/javascript" src="/pico-8.js"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="resources"><a class="header" href="#resources">Resources</a></h1>
<p>This page contains a collection of resources you can use to further your
journey with PICO-8.</p>
<h2 id="nerdy-teachers-tutorials"><a class="header" href="#nerdy-teachers-tutorials">Nerdy Teachers Tutorials</a></h2>
<p>This is a collection of <a href="https://nerdyteachers.com/PICO-8/">very well done
tutorials</a> that walk you through a variety
of different PICO-8 related topics. It includes small games to make, game
elements, game mechanics, details on specific functions, and an excellent
platformer tutorial.</p>
<h2 id="micro-platformer"><a class="header" href="#micro-platformer">Micro Platformer</a></h2>
<p>Here is a <a href="https://www.lexaloffle.com/bbs/?pid=28248">simple platforming
engine</a> in 100 lines of code.</p>
<p>The same author released a follow up, more advanced successor to this called
the <a href="https://www.lexaloffle.com/bbs/?tid=28793">Advanced Micro Platformer</a>.</p>
<h2 id="a-pico-8-spaceshooter-in-16-gifs"><a class="header" href="#a-pico-8-spaceshooter-in-16-gifs">A PICO-8 Spaceshooter in 16 GIFs</a></h2>
<p>This is a fun way to demonstrate how quickly a game can be developed in PICO-8.
In just <a href="https://ztiromoritz.github.io/pico-8-shooter/">16 animated images</a>,
the author is able to create a fully functioning space shooter!</p>
<h2 id="game-development-with-pico-8"><a class="header" href="#game-development-with-pico-8">Game Development with PICO-8</a></h2>
<p><a href="https://mboffin.itch.io/gamedev-with-pico-8-issue1">A 72-page zine</a> about
doing game development with PICO-8.</p>
<h2 id="picozines"><a class="header" href="#picozines">PicoZines</a></h2>
<p>This is a collection of freely downloadable magazines about PICO-8 programming.</p>
<ul>
<li><a href="https://sectordub.itch.io/pico-8-fanzine-1">PicoZine #1</a></li>
<li><a href="https://sectordub.itch.io/pico-8-fanzine-2">PicoZine #2</a></li>
<li><a href="https://sectordub.itch.io/pico-8-fanzine-3">PicoZine #3</a></li>
<li><a href="https://sectordub.itch.io/-pico-8-zine-4">PicoZine #4</a></li>
</ul>
<h2 id="the-pico-8-educational-toolset"><a class="header" href="#the-pico-8-educational-toolset">The PICO-8 Educational Toolset</a></h2>
<p><a href="https://mboffin.itch.io/pico8-educational-toolset">A collection</a> of
self-contained examples that demonstrate a single technique. By combining the
techniques you have all you need to create a variety of games.</p>
<p>This toolset was created by Dylan Bennett. He is the author of the Adventure
Game Tutorial content on this site.</p>
<h2 id="demo-man-tutorials"><a class="header" href="#demo-man-tutorials">Demo-Man Tutorials</a></h2>
<p>This is a <a href="https://demoman.net/">series of tutorials</a> implemented in a bunch of
slides, but with the interactive elements of each slide in a PICO-8 web hosted
cart! Check them out! Topics range from PICO-8 specifics to math, animation,
and collision detection.</p>
<h2 id="pico-8-music-tutorials"><a class="header" href="#pico-8-music-tutorials">PICO-8 Music Tutorials</a></h2>
<p><a href="https://www.youtube.com/playlist?list=PLur95ujyAigsqZR1aNTrVGAvXD7EqywdS">55
videos</a>
on Youtube by Gruber. These walk you through the sound and music editors. He
also has a variety of remakes of popular songs elsewhere in his channel that
are worth checking out.</p>
<h2 id="pico-8-roguelike-tutorial"><a class="header" href="#pico-8-roguelike-tutorial">PICO-8 Roguelike Tutorial</a></h2>
<p>A roguelike is a dungeon crawler game with permament death (you lose your
progress when you die). This is a well regarded <a href="https://www.youtube.com/playlist?list=PLea8cjCua_P3LL7J1Q9b6PJua0A-96uUS">video
tutorial</a>
(in 54 parts!) by Laze Devs.</p>
<h2 id="pico-8-breakout-tutorial"><a class="header" href="#pico-8-breakout-tutorial">PICO-8 Breakout Tutorial</a></h2>
<p>Another video tutorial by Lazy Devs. This one has <a href="https://www.youtube.com/playlist?list=PLea8cjCua_P0qjjiG8G5FBgqwpqMU7rBk">78
parts</a>!</p>
<script type="text/javascript" src="/pico-8.js"></script>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="pico-8.js"></script>

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
